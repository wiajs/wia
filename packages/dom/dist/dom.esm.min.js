/*!
  * wia dom v0.1.11
  * (c) 2020 Sibyl Yu
  * @license MIT
  */
/*!
 * Expand $.fn
 * 扩展 $.fn
 * same syntax as well known jQuery library
 */
var Dom=window.$.Dom,emptyArray=[],elementDisplay={};function ready(e){return/complete|loaded|interactive/.test(document.readyState)&&document.body?e($):document.addEventListener("DOMContentLoaded",(function(){e($)}),!1),this}function attr(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this}function removeAttr(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this}function hasAttr(e){return emptyArray.some.call(this,(function(t){return t.hasAttribute(e)}))}function prop(e,t){if(1!==arguments.length||"string"!=typeof e){for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n][e]=t;else for(var r in e)this[n][r]=e[r];return this}if(this[0])return this[0][e]}function data(e,t){var n,r,i="data-"+e.replace(/([A-Z])/g,"-$1").toLowerCase();if(void 0===t)(r=this[0])&&(n=r.domElementDataStorage&&e in r.domElementDataStorage?r.domElementDataStorage[e]:this.attr(i)),n&&(n=$.deserializeValue(n));else{for(var o=0;o<this.length;o+=1)(r=this[o]).domElementDataStorage||(r.domElementDataStorage={}),r.domElementDataStorage[e]=t,this.attr(i,t);n=this}return n}function removeData(e){for(var t="data-"+e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=0;n<this.length;n+=1){var r=this[n];r.domElementDataStorage&&r.domElementDataStorage[e]&&(r.domElementDataStorage[e]=null,delete r.domElementDataStorage[e]),r.removeAttribute(t)}return this}function dataset(){var e=this[0];if(e){var t={};if(e.dataset)for(var n in e.dataset)t[n]=e.dataset[n];else for(var r=0;r<e.attributes.length;r+=1){var i=e.attributes[r];i.name.indexOf("data-")>=0&&(t[$.camelCase(i.name.split("data-")[1])]=i.value)}for(var o in t)t[o]=$.deserializeValue(t[o]);return t}}function val(e){if(void 0!==e){for(var t=0;t<this.length;t+=1){var n=this[t];if(Array.isArray(e)&&n.multiple&&"select"===n.nodeName.toLowerCase())for(var r=0;r<n.options.length;r+=1)n.options[r].selected=e.indexOf(n.options[r].value)>=0;else n.value=e}return this}if(this[0]){if(this[0].multiple&&"select"===this[0].nodeName.toLowerCase()){for(var i=[],o=0;o<this[0].selectedOptions.length;o+=1)i.push(this[0].selectedOptions[o].value);return i}return this[0].value}}function transform(e){for(var t=0;t<this.length;t+=1){var n=this[t].style;n.webkitTransform=e,n.transform=e}return this}function transition(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t+=1){var n=this[t].style;n.webkitTransitionDuration=e,n.transitionDuration=e}return this}function on(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];function l(e){var t=e.target;if(t){var n=e.target.domEventData||[];if(n.indexOf(e)<0&&n.unshift(e),$(t).is(o))a.apply(t,n);else for(var r=$(t).parents(),i=0;i<r.length;i+=1)$(r[i]).is(o)&&a.apply(r[i],n)}}function h(){for(var e,t,n,r,i,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var h=null!==(e=null===(t=s[0])||void 0===t||null===(n=t.target)||void 0===n?void 0:n.domEventData)&&void 0!==e?e:[],u=[].concat(s,h);a.apply(this,u),(null===(r=s[0])||void 0===r||null===(i=r.target)||void 0===i?void 0:i.domEventData)&&(s[0].target.domEventData=[],delete s[0].target.domEventData)}function u(e){var t=this;if(this.hasAttribute("disabled"))return e.stopPropagation(),!1;this.setAttribute("disabled","true"),setTimeout((function(){try{t.removeAttribute("disabled")}catch(e){console.log("clickEvent ",{ex:e.message})}}),500);var n=e&&e.target&&e.target.domEventData||[];n.indexOf(e)<0&&n.unshift(e),a.apply(this,n)}"function"==typeof n[1]&&(i=n[0],a=n[1],s=n[2],o=void 0),s||(s=!1);var c={};function d(e){var t,n,r,i;c.x=e.targetTouches[0].pageX,c.y=e.targetTouches[0].pageY,c.el=$(e.target),c.top=null!==(t=null===(n=c.el.rect())||void 0===n?void 0:n.top)&&void 0!==t?t:0,c.left=null!==(r=null===(i=c.el.rect())||void 0===i?void 0:i.left)&&void 0!==r?r:0,c.time=(new Date).getTime(),c.trigger=!1,c.scrollY=!1;var o=c.el.closest(".page-content").dom;o&&(c.scrollY=!0,0!==o.scrollTop&&o.scrollTop+o.clientHeight!==o.scrollHeight||(c.scrollY=!1))}function f(e){var t,n,r,o;if("swipe"===i&&!c.trigger){var a=Math.round(e.targetTouches[0].pageX-c.x),s=Math.round(e.targetTouches[0].pageY-c.y),l=Math.round((null!==(t=null===(n=c.el.rect())||void 0===n?void 0:n.top)&&void 0!==t?t:0)-c.top),u=Math.round((null!==(r=null===(o=c.el.rect())||void 0===o?void 0:o.left)&&void 0!==r?r:0)-c.left),d=Math.abs(a-u),f=Math.abs(s-l);return f>15&&d<8&&0===l&&!c.scrollY?(c.trigger=!0,h.call(this,e,{x:0,y:s})):d>12&&f<8&&0===u&&0===l?(c.trigger=!0,h.call(this,e,{x:a,y:0})):void 0}}function m(e){return p.call(this,e)}function v(e){return p.call(this,e)}function p(e){if("click"===i||"press"===i){c.trigger=!1;var t=Math.abs(e.changedTouches[0].pageX-c.x),n=Math.abs(e.changedTouches[0].pageY-c.y),r=(new Date).getTime()-c.time;if(t<=5&&n<=5){if(r<500&&"click"===i)return u.call(this,e);if(r>500&&"press"===i)return h.call(this,e)}}}for(var g,y=i.split(" "),w=function(t){var n=e[t];if(o)for(g=0;g<y.length;g+=1){var r=y[g];n.domLiveListeners||(n.domLiveListeners={}),n.domLiveListeners[r]||(n.domLiveListeners[r]=[]),n.domLiveListeners[r].push({listener:a,proxyListener:l}),n.addEventListener(r,l,s)}else for(g=0;g<y.length;g+=1){var i=y[g];n.domListeners||(n.domListeners={}),n.domListeners[i]||(n.domListeners[i]=[]),!$.support.touch||"click"!==i&&"swipe"!==i&&"press"!==i?"click"===i?(n.domListeners[i].push({capture:s,listener:a,proxyListener:u}),n.addEventListener(i,u,s)):(n.domListeners[i].push({capture:s,listener:a,proxyListener:h}),n.addEventListener(i,h,s)):function(){var e={capture:s,listener:a,proxyListener:[d]},t=s;"swipe"===i?($.support.passiveListener&&(t={passive:!0,capture:s}),e.proxyListener.push(f)):"click"===i?e.proxyListener.push(m):"press"===i&&e.proxyListener.push(v),n.domListeners[i].push(e),e.proxyListener.forEach((function(e){var r=e.name.toLowerCase();"clickend"!==r&&"pressend"!==r||(r="touchend"),n.addEventListener(r,e,t)}))}()}},b=0;b<this.length;b+=1)w(b);return this}function off(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];"function"==typeof t[1]&&(r=t[0],o=t[1],a=t[2],i=void 0),a||(a=!1);for(var s=r.split(" "),l=0;l<s.length;l+=1)for(var h=s[l],u=0;u<this.length;u+=1){var c=this[u],d=void 0;if(!i&&c.domListeners?d=c.domListeners[h]:i&&c.domLiveListeners&&(d=c.domLiveListeners[h]),d&&d.length)for(var f=d.length-1;f>=0;f-=1){var m=d[f];o&&m.listener===o?("click"!==h&&"swipe"!==h&&"press"!==h||!$.support.touch?c.removeEventListener(h,m.proxyListener,m.capture):(c.removeEventListener("touchstart",m.proxyListener[0],m.capture),"swipe"===h?c.removeEventListener("touchmove",m.proxyListener[1],m.capture):c.removeEventListener("touchend",m.proxyListener[1],m.capture)),d.splice(f,1)):o&&m.listener&&m.listener.domproxy&&m.listener.domproxy===o?(c.removeEventListener(h,m.proxyListener,m.capture),d.splice(f,1)):o||(c.removeEventListener(h,m.proxyListener,m.capture),d.splice(f,1))}}return this}function once(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];function l(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];a.apply(this,n),e.off(i,o,l,s),l.domproxy&&delete l.domproxy}return"function"==typeof n[1]&&(i=n[0],a=n[1],s=n[2],o=void 0),l.domproxy=a,e.on(i,o,l,s)}function trigger(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t[0].split(" "),i=t[1],o=0;o<r.length;o+=1)for(var a=r[o],s=0;s<this.length;s+=1){var l=this[s],h=void 0;try{h=new window.CustomEvent(a,{detail:i,bubbles:!0,cancelable:!0})}catch(e){(h=document.createEvent("Event")).initEvent(a,!0,!0),h.detail=i}l.domEventData=t.filter((function(e,t){return t>0})),l.dispatchEvent(h),l.domEventData=[],delete l.domEventData}return this}function transitionEnd(e){var t,n=["webkitTransitionEnd","transitionend"],r=this;function i(o){if(o.target===this)for(e.call(this,o),t=0;t<n.length;t+=1)r.off(n[t],i)}if(e)for(t=0;t<n.length;t+=1)r.on(n[t],i);return this}function animationEnd(e){var t,n=["webkitAnimationEnd","animationend"],r=this;function i(o){if(o.target===this)for(e.call(this,o),t=0;t<n.length;t+=1)r.off(n[t],i)}if(e)for(t=0;t<n.length;t+=1)r.on(n[t],i);return this}function width(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null}function outerWidth(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function height(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null}function outerHeight(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function offset(e){if(e)return this.each((function(t){var n=$(this),r=$.funcArg(this,e,t,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)}));if(!this.length)return null;if(document.documentElement!==this[0]&&!$.contains(document.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect(),n=this.closest(".page-content"),r=n.length?n.dom.scrollLeft:window.pageXOffset,i=n.length?n.dom.scrollTop:window.pageYOffset;return{left:t.left+r,top:t.top+i,width:Math.round(t.width),height:Math.round(t.height)}}function rect(){if(!this.length)return null;if(document.documentElement!==this[0]&&!$.contains(document.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left,top:e.top,width:Math.round(e.width),height:Math.round(e.height)}}function hide(){return this.each((function(){"none"!=this.style.display&&(this.style.display="none")}))}function defaultDisplay(e){var t,n;return elementDisplay[e]||(t=document.createElement(e),document.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),elementDisplay[e]=n),elementDisplay[e]}function show(){return this.each((function(){"none"===this.style.display&&(this.style.display=""),"none"===getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=defaultDisplay(this.nodeName))}))}function styles(){return this[0]?window.getComputedStyle(this[0],null):{}}function css(e,t){var n,r=/^width|height|left|top|marginLeft|marginTop|paddingLeft|paddingTop$/;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(var i in e){var o=e[i];r.test(i)&&$.isNumber(o)&&(o+="px"),this[n].style[i]=o}return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n+=1){var a=t;r.test(e)&&$.isNumber(a)&&(a+="px"),this[n].style[e]=a}return this}return this}function toArray(){for(var e=[],t=0;t<this.length;t+=1)e.push(this[t]);return e}function each(e){return emptyArray.some.call(this,(function(t,n){return!1===e.call(t,n,t)})),this}function forEach(e){return emptyArray.some.call(this,(function(t,n){return!1===e.call(t,t,n)})),this}function some(e){return emptyArray.some.call(this,(function(t,n){return e.call(t,t,n)}))}function every(e){return emptyArray.every.call(this,(function(t,n){return e.call(t,t,n)}))}function filter(e){for(var t=[],n=0;n<this.length;n+=1)e.call(this[n],n,this[n])&&t.push(this[n]);return new Dom(t)}function map(e){for(var t=[],n=0;n<this.length;n+=1)t.push(e.call(this[n],n,this[n]));return new Dom(t)}function clone(){return this.map((function(){return this.cloneNode(!0)}))}function html(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this}function text(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this}function is(e){var t,n,r=this[0];if(!r||void 0===e)return!1;if("string"==typeof e){if(r.matches)return r.matches(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);for(t=$(e),n=0;n<t.length;n+=1)if(t[n]===r)return!0;return!1}if(e===document)return r===document;if(e===window)return r===window;if(e.nodeType||e instanceof Dom){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===r)return!0;return!1}return!1}function indexOf(e){for(var t=0;t<this.length;t+=1)if(this[t]===e)return t;return-1}function index(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}}function eq(e){if(void 0===e)return this;var t,n=this.length;return new Dom(e>n-1?[]:e<0?(t=n+e)<0?[]:[this[t]]:[this[e]])}function append(){for(var e,t=0;t<arguments.length;t+=1){e=t<0||arguments.length<=t?void 0:arguments[t];for(var n=0;n<this.length;n+=1)if("string"==typeof e){var r=document.createElement("div");for(r.innerHTML=e;r.firstChild;)this[n].appendChild(r.firstChild),r.removeChild(r.firstChild)}else if(e instanceof Dom)for(var i=0;i<e.length;i+=1)this[n].appendChild(e[i]);else this[n].appendChild(e)}return this}function appendTo(e){return $(e).append(this),this}function insertChild(e,t){e.childNodes.length?e.insertBefore(t,e.childNodes[0]):e.appendChild(t)}function prepend(){for(var e,t=0;t<arguments.length;t+=1){e=t<0||arguments.length<=t?void 0:arguments[t];for(var n=0;n<this.length;n+=1)if("string"==typeof e){var r=document.createElement("div");for(r.innerHTML=e;r.lastChild;)insertChild(this[n],r.lastChild),r.removeChild(r.lastChild)}else if(e instanceof Dom)for(var i=e.length-1;i>=0;i-=1)insertChild(this[n],e[i]);else insertChild(this[n],e)}return this}function prependTo(e){return $(e).prepend(this),this}function insertBefore(e){for(var t=$(e),n=0;n<this.length;n+=1)if(1===t.length)t[0].parentNode.insertBefore(this[n],t[0]);else if(t.length>1)for(var r=0;r<t.length;r+=1)t[r].parentNode.insertBefore(this[n].cloneNode(!0),t[r]);return this}function insertAfter(e){for(var t=$(e),n=0;n<this.length;n+=1)if(1===t.length)t[0].parentNode.insertBefore(this[n],t[0].nextSibling);else if(t.length>1)for(var r=0;r<t.length;r+=1)t[r].parentNode.insertBefore(this[n].cloneNode(!0),t[r].nextSibling);return this}function next(e){return this.length>0?e?this[0].nextElementSibling&&$(this[0].nextElementSibling).is(e)?new Dom([this[0].nextElementSibling]):new Dom([]):this[0].nextElementSibling?new Dom([this[0].nextElementSibling]):new Dom([]):new Dom([])}function nextNode(e){var t=[],n=this[0];if(!n)return new Dom([]);for(var r=n.nextElementSibling;r;){if(!e){t.push(r);break}if($(r).is(e)){t.push(r);break}r=r.nextElementSibling}return new Dom(t)}function nextAll(e){var t=[],n=this[0];if(!n)return new Dom([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?$(r).is(e)&&t.push(r):t.push(r),n=r}return new Dom(t)}function prev(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&$(t.previousElementSibling).is(e)?new Dom([t.previousElementSibling]):new Dom([]):t.previousElementSibling?new Dom([t.previousElementSibling]):new Dom([])}return new Dom([])}function prevNode(e){var t=[],n=this[0];if(!n)return new Dom([]);for(var r=n.previousElementSibling;r;){if(!e){t.push(r);break}if($(r).is(e)){t.push(r);break}r=r.previousElementSibling}return new Dom(t)}function prevAll(e){var t=[],n=this[0];if(!n)return new Dom([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?$(r).is(e)&&t.push(r):t.push(r),n=r}return new Dom(t)}function siblings(e){return this.nextAll(e).add(this.prevAll(e))}function parent(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?$(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return $($.uniq(t))}function parents(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?$(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return $($.uniq(t))}function parentNode(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;){if(!e)return t.push(r),new Dom(t,e);if($(r).is(e))return t.push(r),new Dom(t,e);r=r.parentNode}return new Dom(t,e)}function closest(e){if(void 0===e)return new Dom([]);if(!this.is(e)){for(var t=0;t<this.length;t+=1)for(var n=this[t].parentNode;n;){var r=$(n);if(r.is(e))return r;n=n.parentNode}return new Dom([])}return this}function find(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),i=0;i<r.length;i+=1)t.push(r[i]);return new Dom(t)}function findNode(e){for(var t=[],n=0;n<this.length;n+=1){var r=this[n].querySelector(e);r&&t.push(r)}return new Dom(t,e)}function children(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)e?$(r[i]).is(e)&&t.push(r[i]):t.push(r[i]);return new Dom($.uniq(t))}function childNode(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1){if(!e){t.push(r[i]);break}if($(r[i]).is(e)){t.push(r[i]);break}}return new Dom(t,e)}function remove(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}function detach(){return this.remove()}function add(){for(var e,t,n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(e=0;e<i.length;e+=1){var a=$(i[e]);for(t=0;t<a.length;t+=1)n[n.length]=a[t],n.length+=1}return n}function empty(){for(var e=0;e<this.length;e+=1){var t=this[e];if(1===t.nodeType){for(var n=0;n<t.childNodes.length;n+=1)t.childNodes[n].parentNode&&t.childNodes[n].parentNode.removeChild(t.childNodes[n]);t.textContent=""}}return this}function hasChild(){return!!this.dom&&this.dom.children.length>0}function firstChild(){return this.dom&&0!==this.dom.children.length?new Dom([this.dom.children[0]]):null}function lastChild(){return this.dom&&0!==this.dom.children.length?new Dom([this.dom.children[this.dom.children.length-1]]):null}function childCount(){return this.dom?this.dom.children.length:0}function cursorEnd(){if(!this.dom)return null;var e=this.dom;if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(void 0!==document.body.createTextRangrge){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}}function getCursorPos(){var e=0;if(!this.dom)return 0;var t=this.dom;if(t.selectionStart)e=t.selectionStart;else{var n=null;"textarea"===t.tagName.toLowerCase()?(n=event.srcElement.createTextRange()).moveToPoint(event.x,event.y):n=document.selection.createRange(),n.moveStart("character",-event.srcElement.value.length),e=n.text.length}return e}function getCursorPosition(){if(!this.dom)return 0;var e=this.dom,t="@#%#^&#*$",n=document.selection.createRange();n.text=t;var r=e.value.indexOf(t);return n.moveStart("character",-t.length),n.text="",r}function setCursorPos(e){if(this.dom){var t=this.dom.createTextRange();t.collapse(!0),t.moveStart("character",e),t.select()}}function moveFirst(){this.rowindex=0}function qu(e){var t;return $(null===(t=this.dom)||void 0===t?void 0:t.querySelector(e))}function qus(e){return $(e,this.dom)}function att(e,t){var n,r=null===(n=this.dom)||void 0===n?void 0:n.querySelector("["+e+"="+t+"]");return $(r||[])}function atts(e,t){return $("["+e+"="+t+"]",this.dom)}function name(e){return this.att("name",e)}function names(e){return this.atts("name",e)}function clas(e){var t,n=null===(t=this.dom)||void 0===t?void 0:t.getElementsByClassName(e);return n&&(n=n[0]),$(n)}function clases(e){var t,n=null===(t=this.dom)||void 0===t?void 0:t.getElementsByClassName(e);return n=n&&n.length>0?[].slice.call(n):[],new Dom(n)}function tag(e){var t,n=null===(t=this.dom)||void 0===t?void 0:t.getElementsByTagName(e);return n&&(n=n[0]),$(n)}function tags(e){var t,n=null===(t=this.dom)||void 0===t?void 0:t.getElementsByTagName(e);return n=n&&n.length>0?[].slice.call(n):[],new Dom(n)}var Methods=Object.freeze({__proto__:null,ready:ready,attr:attr,hasAttr:hasAttr,removeAttr:removeAttr,prop:prop,data:data,removeData:removeData,dataset:dataset,val:val,transform:transform,transition:transition,on:on,off:off,once:once,trigger:trigger,transitionEnd:transitionEnd,animationEnd:animationEnd,width:width,outerWidth:outerWidth,height:height,outerHeight:outerHeight,offset:offset,rect:rect,hide:hide,show:show,styles:styles,css:css,toArray:toArray,each:each,forEach:forEach,some:some,every:every,filter:filter,map:map,clone:clone,html:html,text:text,is:is,indexOf:indexOf,index:index,eq:eq,append:append,appendTo:appendTo,prepend:prepend,prependTo:prependTo,insertBefore:insertBefore,insertAfter:insertAfter,next:next,nextNode:nextNode,nextAll:nextAll,prev:prev,prevNode:prevNode,prevAll:prevAll,siblings:siblings,parent:parent,parentNode:parentNode,parents:parents,closest:closest,qu:qu,qus:qus,att:att,atts:atts,name:name,names:names,tag:tag,tags:tags,clas:clas,clases:clases,find:find,findNode:findNode,hasChild:hasChild,children:children,childNode:childNode,firstChild:firstChild,lastChild:lastChild,childCount:childCount,cursorEnd:cursorEnd,getCursorPos:getCursorPos,getCursorPosition:getCursorPosition,setCursorPos:setCursorPos,moveFirst:moveFirst,remove:remove,detach:detach,add:add,empty:empty});function scrollTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4];return 4===t.length&&"function"==typeof a&&(s=a,r=t[0],i=t[1],o=t[2],s=t[3],a=t[4]),void 0===a&&(a="swing"),this.each((function(){var e,t,n,l,h,u,c,d,f=this,m=i>0||0===i,v=r>0||0===r;if(void 0===a&&(a="swing"),m&&(e=f.scrollTop,o||(f.scrollTop=i)),v&&(t=f.scrollLeft,o||(f.scrollLeft=r)),o){m&&(n=f.scrollHeight-f.offsetHeight,h=Math.max(Math.min(i,n),0)),v&&(l=f.scrollWidth-f.offsetWidth,u=Math.max(Math.min(r,l),0));var p=null;m&&h===e&&(m=!1),v&&u===t&&(v=!1),$.requestAnimationFrame((function n(r){void 0===r&&(r=(new Date).getTime()),null===p&&(p=r);var i,l=Math.max(Math.min((r-p)/o,1),0),g="linear"===a?l:.5-Math.cos(l*Math.PI)/2;m&&(c=e+g*(h-e)),v&&(d=t+g*(u-t)),m&&h>e&&c>=h&&(f.scrollTop=h,i=!0),m&&h<e&&c<=h&&(f.scrollTop=h,i=!0),v&&u>t&&d>=u&&(f.scrollLeft=u,i=!0),v&&u<t&&d<=u&&(f.scrollLeft=u,i=!0),i?s&&s():(m&&(f.scrollTop=c),v&&(f.scrollLeft=d),$.requestAnimationFrame(n))}))}}))}function scrollTop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];3===t.length&&"function"==typeof o&&(r=t[0],i=t[1],a=t[2],o=t[3]);var s=this;return void 0===r?s.length>0?s[0].scrollTop:null:s.scrollTo(void 0,r,i,o,a)}function scrollLeft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];3===t.length&&"function"==typeof o&&(r=t[0],i=t[1],a=t[2],o=t[3]);var s=this;return void 0===r?s.length>0?s[0].scrollLeft:null:s.scrollTo(r,void 0,i,o,a)}var Scroll=Object.freeze({__proto__:null,scrollTo:scrollTo,scrollTop:scrollTop,scrollLeft:scrollLeft});function animate(e,t){var n,r=this,i={props:Object.assign({},e),params:Object.assign({duration:300,easing:"swing"},t),elements:r,animating:!1,que:[],easingProgress:function(e,t){return"swing"===e?.5-Math.cos(t*Math.PI)/2:"function"==typeof e?e(t):t},stop:function(){i.frameId&&$.cancelAnimationFrame(i.frameId),i.animating=!1,i.elements.each((function(e,t){delete t.dom7AnimateInstance})),i.que=[]},done:function(e){if(i.animating=!1,i.elements.each((function(e,t){delete t.domAnimateInstance})),e&&e(r),i.que.length>0){var t=i.que.shift();i.animate(t[0],t[1])}},animate:function(e,t){if(i.animating)return i.que.push([e,t]),i;var n=[];i.elements.each((function(t,r){var o,a,s,l,h;r.dom7AnimateInstance||(i.elements[t].domAnimateInstance=i),n[t]={container:r},Object.keys(e).forEach((function(i){o=window.getComputedStyle(r,null).getPropertyValue(i).replace(",","."),a=parseFloat(o),s=o.replace(a,""),l=parseFloat(e[i]),h=e[i]+s,n[t][i]={initialFullValue:o,initialValue:a,unit:s,finalValue:l,finalFullValue:h,currentValue:a}}))}));var o,a,s=null,l=0,h=0,u=!1;return i.animating=!0,i.frameId=$.requestAnimationFrame((function c(){var d,f;o=(new Date).getTime(),u||(u=!0,t.begin&&t.begin(r)),null===s&&(s=o),t.progress&&t.progress(r,Math.max(Math.min((o-s)/t.duration,1),0),s+t.duration-o<0?0:s+t.duration-o,s),n.forEach((function(r){var u=r;a||u.done||Object.keys(e).forEach((function(r){if(!a&&!u.done){d=Math.max(Math.min((o-s)/t.duration,1),0),f=i.easingProgress(t.easing,d);var c=u[r],m=c.initialValue,v=c.finalValue,p=c.unit;u[r].currentValue=m+f*(v-m);var g=u[r].currentValue;(v>m&&g>=v||v<m&&g<=v)&&(u.container.style[r]=v+p,(h+=1)===Object.keys(e).length&&(u.done=!0,l+=1),l===n.length&&(a=!0)),a?i.done(t.complete):u.container.style[r]=g+p}}))})),a||(i.frameId=$.requestAnimationFrame(c))})),i}};if(0===i.elements.length)return r;for(var o=0;o<i.elements.length;o+=1)i.elements[o].domAnimateInstance?n=i.elements[o].domAnimateInstance:i.elements[o].domAnimateInstance=i;return n||(n=i),"stop"===e?n.stop():n.animate(i.props,i.params),r}function stop(){for(var e=0;e<this.length;e+=1)this[e].domAnimateInstance&&this[e].domAnimateInstance.stop()}function getTranslate(e){void 0===e&&(e="x");if(!this||!this.dom)return 0;var t,n,r,i=this.dom,o=window.getComputedStyle(i,null);return window.WebKitCSSMatrix?((n=o.transform||o.webkitTransform).split(",").length>6&&(n=n.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),r=new window.WebKitCSSMatrix("none"===n?"":n)):t=(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(n=window.WebKitCSSMatrix?r.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===e&&(n=window.WebKitCSSMatrix?r.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),n||0}var Animate=Object.freeze({__proto__:null,animate:animate,stop:stop,getTranslate:getTranslate}),noTrigger="resize scroll".split(" ");function eventShortcut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(void 0===n[0]){for(var i=0;i<this.length;i+=1)noTrigger.indexOf(e)<0&&(e in this[i]?this[i][e]():$(this[i]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}function click(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["click"].concat(t))}function blur(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["blur"].concat(t))}function focus(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["focus"].concat(t))}function focusin(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["focusin"].concat(t))}function focusout(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["focusout"].concat(t))}function keyup(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["keyup"].concat(t))}function keydown(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["keydown"].concat(t))}function keypress(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["keypress"].concat(t))}function submit(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["submit"].concat(t))}function change(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["change"].concat(t))}function mousedown(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["mousedown"].concat(t))}function mousemove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["mousemove"].concat(t))}function mouseup(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["mouseup"].concat(t))}function mouseenter(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["mouseenter"].concat(t))}function mouseleave(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["mouseleave"].concat(t))}function mouseout(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["mouseout"].concat(t))}function mouseover(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["mouseover"].concat(t))}function touchstart(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["touchstart"].concat(t))}function touchend(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["touchend"].concat(t))}function touchmove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["touchmove"].concat(t))}function resize(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["resize"].concat(t))}function scroll(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["scroll"].concat(t))}function swipe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["swipe"].concat(t))}function press(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eventShortcut.bind(this).apply(void 0,["press"].concat(t))}var eventShortcuts=Object.freeze({__proto__:null,click:click,blur:blur,focus:focus,focusin:focusin,focusout:focusout,keyup:keyup,keydown:keydown,keypress:keypress,submit:submit,change:change,mousedown:mousedown,mousemove:mousemove,mouseup:mouseup,mouseenter:mouseenter,mouseleave:mouseleave,mouseout:mouseout,mouseover:mouseover,touchstart:touchstart,touchend:touchend,touchmove:touchmove,resize:resize,scroll:scroll,swipe:swipe,press:press});function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function setForm(e,t,n){void 0===n&&(n=!1);try{var r=this;if(n||clearForm.call(r),t||(t=r.attr("name")),t)r.name(t+"-tp").length?$.isArray(e)?e.forEach((function(e){addSet.call(r,t,e)})):addSet.call(r,t,e):Object.keys(e).forEach((function(t){return setField.call(r,t,e[t])}));else $.isObject(e)&&Object.keys(e).forEach((function(t){return setField.call(r,t,e[t])}))}catch(e){console.error("setForm exp.",{msg:e.message})}}function setField(e,t,n){void 0===n&&(n=!1);try{if(!e)return!1;var r=this;n||clearField.call(r,e);var i=r.name(e);if(i.length>0){var o,a=i.dom;if(console.log("setField",{type:a.type}),"null"!==(t=null!==(o=t)&&void 0!==o?o:"")&&"undefined"!==t||(t=""),"textarea"===a.tagName.toLowerCase())i.val(t);else if("input"===a.tagName.toLowerCase())if("text"===a.type)setInput.call(r,e,t);else if(["date","time","month","week","datetime","datetime-local","email","number","search","url"].includes(a.type))i.val(t);else if("hidden"===a.type)setInput.call(r,e,t),setData.call(r,e,t),i.change();else if("select-one"===a.type){for(var s=0,l=a.options.length;s<l;s++)if(a.options[s].value===String(t)){a.options[s].selected=!0;break}}else if("checkbox"===a.type){r.names(e).each((function(e,n){n.checked=t.includes(n.value)}))}else setData.call(r,e,t);else setData.call(r,e,t)}else setData.call(r,e,t)}catch(e){console.error("setField exp.",{msg:e.message})}}function addField(e,t){setField.call(this,e,t,!0)}function removeChip(e){console.log("removeChip",{e:e});var t=$(e.target).closest(".chip");if(t&&t.length>0){var n=t.data("id"),r=t.prevNode("input[type=hidden]");t.remove(),r&&r.length>0&&(n=r.val().replace(new RegExp(n+"\\s*,?\\s*"),"").replace(/\s*,\s*$/,""),r.val(n))}}function addSet(e,t){try{var n=this.name(e+"-tp"),r=n.clone();r.insertBefore(n),Object.keys(t).forEach((function(e){setField.call(r,e,t[e])})),r.attr("name",n.attr("name").replace("-tp","-data")).show()}catch(e){console.error("addSet exp.",{msg:e.message})}}function addForm(e,t){t||(t=this.attr("name")),setForm.call(this,e,t,!0)}function addData(tp,k,r,ns){try{if(!tp)return;if($.isObject(r)){if(void 0!==r.id||void 0!==r._id){var ds=ns.filter((function(e,t){var n=$(t);return r.id&&n.data("id")==r.id||r._id&&n.data("_id")==r._id}));ds.length&&ds.remove()}var $n=$(eval("`"+tp.dom.outerHTML+"`"));r.id?$n.data("id",r.id):r._id&&$n.data("_id",r._id),$n.attr("name",k+"-data").insertBefore(tp).show()}else{var _ds=this.names(k+"-data");if(!_ds||!_ds.length||!_ds.some((function(e){return $(e).data("_id")==r}))){var tx=eval("`"+tp.dom.outerHTML+"`");$(tx).data("_id",r).attr("name",k+"-data").insertBefore(tp).show()}}}catch(e){console.error("addData exp.",{msg:e.message})}}function setData(k,v){try{if(!k)return!1;var el=this;if($.isEmpty(v))return!1;var tp=el.name(k+"-tp");if(tp.length){var empty=0===el.names(k+"-data").length,n=el.name(k).dom;if(n&&"hidden"===n.type){var val=n.value;$.isEmpty(n.data)?val&&(v=val,val.indexOf(",")>-1&&(v=val.split(","))):v=n.data}var ns=el.names(k+"-data");$.isArray(v)?v.forEach((function(e){e&&(empty=!1,addData.call(el,tp,k,e,ns))})):v&&(empty=!1,addData.call(el,tp,k,v,ns)),tp.hasClass("chip")&&tp.parentNode().click(removeChip),empty?el.name(k+"-empty").show():el.name(k+"-empty").hide()}else{var _n=el.name(""+k);if(_n.length&&"hidden"!==_n.dom.type&&"text"!=_n.dom.type){var r=v,tx=_n.html();r&&tx.indexOf("${")>-1&&_n.html(eval("`"+tx+"`"))}}}catch(e){console.error("setData exp.",{msg:e.message})}}function getValue(e,t,n){var r=t;try{if($.isObject(t)){if($.isObject(n))r=n.id&&n.id==t.id||n._id&&n._id==t._id?t:[n,t];else if($.isArray(n)){var i=n.filter((function(e){return!e.id&&!e._id||e.id&&e.id!=t.id||e._id&&e._id!=t._id}));i.length&&(i.push(t),r=i)}}else{var o=n+","+t;o.indexOf(",")>-1&&(o=Array.from(new Set(o.split(","))).join(",")),r=o}}catch(e){console.error("getValue exp.",{msg:e.message})}return r}function setInput(e,t){try{var n=this.name(e);if(!n.length)return;if($.isEmpty(t))return;$.isObject(t)&&void 0===t.id&&void 0===t._id?t._id=$.num():$.isArray(t)&&t.forEach((function(e){$.isObject(e)&&void 0===e.id&&void 0===e._id&&(e._id=$.num())}));var r=n.dom.data;if(!r&&(r=n.val(),"hidden"===n.dom.type&&/\s*[{[]/g.test(r)))try{r=JSON.parse(r),n.dom.data=r,n.val("")}catch(e){console.error("setInput exp.",{msg:e.message})}$.isEmpty(r)?$.isVal(t)?n.val(t):$.isArray(t)&&$.isVal(t[0])?n.val(t.join(",")):n.dom.data=t:($.isArray(t)?(t=t.reduce((function(e,t){return getValue(n,t,e)}),r),$.hasVal(t)&&$.isArray(t)&&(t=Array.from(new Set(t)))):t=getValue(n,t,r),$.hasVal(t)&&($.isVal(t)?n.val(t):$.isArray(t)&&$.isVal(t[0])?n.val(t.join(",")):n.dom.data=t))}catch(e){console.error("setInput exp.",{msg:e.message})}}function clearForm(){try{this.find("input,textarea").forEach((function(e){e.data&&(e.data=null,delete e.data),"checkbox"!==e.type&&(e.value="")})),this.find("[name$=-data]").remove(),this.find("[name$=-empty]").show()}catch(e){console.error("clearForm exp:"+e.message)}}function clearField(e){try{this.names(e).forEach((function(e){"input"!==e.tagName.toLowerCase()&&"textarea"!==e.tagName.toLowerCase()||(e.data&&(e.data=null,delete e.data),"checkbox"!==e.type&&(e.value=""))})),this.names(e+"-data").remove(),this.name(e+"-empty").show()}catch(e){console.error("clearField exp:"+e.message)}}function getForm(e){var t=null;try{this.find("input[type=hidden]").forEach((function(e){$.isEmpty(e.data)||(e.value=JSON.stringify(e.data))})),e||(e=this.attr("name"));var n=this.name(e+"-tp"),r=null;n.length&&(r=n.prev(),n.remove());var i=new FormData(this.dom);n.length&&n.insertAfter(r);var o=[],a=null,s={},l=i.entries(),h=Array.isArray(l),u=0;for(l=h?l:l[Symbol.iterator]();;){var c;if(h){if(u>=l.length)break;c=l[u++]}else{if((u=l.next()).done)break;c=u.value}var d=c,f=d[0];a?a===f&&($.isEmpty(s)||o.push(_extends({},s)),s={}):a=f;var m=d[1];try{/^\s*[{[]/.test(m)&&(m=JSON.parse(m))}catch(d){console.error("getForm exp.",{msg:d.message})}s[f]=m}$.hasVal(s)&&o.push(s),1===o.length?t=o[0]:o.length>1&&(t=o)}catch(e){console.error("getForm exp.",{msg:e.message})}return t}function getField(e){var t=null;try{var n=this.name(e);n.length&&(t=$.hasVal(n.data)?n.data:n.val())}catch(e){console.error("getForm exp.",{msg:e.message})}return t}var Form=Object.freeze({__proto__:null,setForm:setForm,addForm:addForm,getForm:getForm,clearForm:clearForm,setField:setField,addField:addField,clearField:clearField,getField:getField}),$$1=window.$;[Methods,Scroll,Animate,Form,eventShortcuts].forEach((function(e){Object.keys(e).forEach((function(t){$$1.fn[t]=e[t]}))}));export{$$1 as $};