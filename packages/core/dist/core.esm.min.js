/*!
  * wia core v0.1.7
  * (c) 2020 Sibyl Yu
  * @license MIT
  */
var e=function(){function e(){}var t=e.prototype;return t.post=function(e,t){return new Promise((function(n,r){var o=$.getXhr();o.onreadystatechange=function(){4===o.readyState&&(200===o.status?n(o.responseText):r(new Error(o.statusText),o.responseText))},o.open("POST",e,!0);var i=t;"object"==typeof t&&(i=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+e[n]);return t.sort().join("&")}(t)),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(i)}))},t.postForm=function(e,t){return new Promise((function(n,r){var o=$.getXhr();o.onreadystatechange=function(){4===o.readyState&&(200===o.status?n(null,o.responseText):r(new Error(o.status),o.responseText))},o.open("POST",e,!0),o.send(t)}))},t.get=function(e,t){return $.get(e,t)},e}();function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,n){return(a=i()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c={touch:!!(window.navigator.maxTouchPoints>0||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),pointerEvents:!!window.PointerEvent,observer:"MutationObserver"in window||"WebkitMutationObserver"in window,passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:"ongesturestart"in window,intersectionObserver:"IntersectionObserver"in window},u=function(){var e=window.navigator.platform,t=window.navigator.userAgent,n={ios:!1,android:!1,androidChrome:!1,desktop:!1,iphone:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!(!window.cordova&&!window.phonegap),phonegap:!(!window.cordova&&!window.phonegap),electron:!1},r=window.screen.width,o=window.screen.height,i=t.match(/(Android);?[\s\/]+([\d.]+)?/),a=t.match(/(iPad).*OS\s([\d_]+)/),s=t.match(/(iPod)(.*OS\s([\d_]+))?/),u=!a&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d=t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0,l=t.indexOf("Edge/")>=0,p=t.indexOf("Gecko/")>=0&&t.indexOf("Firefox/")>=0,f="Win32"===e,m=t.toLowerCase().indexOf("electron")>=0,h="MacIntel"===e;!a&&h&&c.touch&&(1024===r&&1366===o||834===r&&1194===o||834===r&&1112===o||768===r&&1024===o)&&(a=t.match(/(Version)\/([\d.]+)/),h=!1),n.ie=d,n.edge=l,n.firefox=p,i&&!f&&(n.os="android",n.osVersion=i[2],n.android=!0,n.androidChrome=t.toLowerCase().indexOf("chrome")>=0),(a||u||s)&&(n.os="ios",n.ios=!0),u&&!s&&(n.osVersion=u[2].replace(/_/g,"."),n.iphone=!0),a&&(n.osVersion=a[2].replace(/_/g,"."),n.ipad=!0),s&&(n.osVersion=s[3]?s[3].replace(/_/g,"."):null,n.ipod=!0),n.ios&&n.osVersion&&t.indexOf("Version/")>=0&&"10"===n.osVersion.split(".")[0]&&(n.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),n.webView=!(!(u||a||s)||!t.match(/.*AppleWebKit(?!.*Safari)/i)&&!window.navigator.standalone)||window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,n.webview=n.webView,n.standalone=n.webView,n.desktop=!(n.ios||n.android)||m,n.desktop&&(n.electron=m,n.macos=h,n.windows=f,n.macos&&(n.os="macos"),n.windows&&(n.os="windows")),n.pixelRatio=window.devicePixelRatio||1;return n.prefersColorScheme=function(){var e;return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&(e="light"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(e="dark"),e},n.wechat=/MicroMessenger/i.test(t),n.weixin=n.wechat,n}(),d=1,l={uniqueNumber:function(){return d+=1},id:function(e,t){return void 0===e&&(e="xxxxxxxxxx"),void 0===t&&(t="0123456789abcdef"),$.uid(e,t)},mdPreloaderContent:'\n    <span class="preloader-inner">\n      <span class="preloader-inner-gap"></span>\n      <span class="preloader-inner-left">\n          <span class="preloader-inner-half-circle"></span>\n      </span>\n      <span class="preloader-inner-right">\n          <span class="preloader-inner-half-circle"></span>\n      </span>\n    </span>\n  '.trim(),iosPreloaderContent:('\n    <span class="preloader-inner">\n      '+[0,1,2,3,4,5,6,7,8,9,10,11].map((function(){return'<span class="preloader-inner-line"></span>'})).join("")+"\n    </span>\n  ").trim(),auroraPreloaderContent:'\n    <span class="preloader-inner">\n      <span class="preloader-inner-circle"></span>\n    </span>\n  ',eventNameToColonCase:function(e){var t;return e.split("").map((function(e,n){return e.match(/[A-Z]/)&&0!==n&&!t?(t=!0,":"+e.toLowerCase()):e.toLowerCase()})).join("")},deleteProps:function(e){$.deleteProps(e)},nextTick:function(e,t){return void 0===t&&(t=0),setTimeout(e,t)},nextFrame:function(e){return $.nextFrame(e)},now:function(){return Date.now()},requestAnimationFrame:function(e){return $.requestAnimationFrame(e)},cancelAnimationFrame:function(e){return $.cancelAnimationFrame(e)},parseUrlQuery:function(e){return $.urlParam(e)},getTranslate:function(e,t){return void 0===t&&(t="x"),$.getTranslate(e,t)},serializeObject:function(e,t){if(void 0===t&&(t=[]),"string"==typeof e)return e;var n,r=[];function o(e){if(t.length>0){for(var n="",r=0;r<t.length;r+=1)n+=0===r?t[r]:"["+encodeURIComponent(t[r])+"]";return n+"["+encodeURIComponent(e)+"]"}return encodeURIComponent(e)}function i(e){return encodeURIComponent(e)}return Object.keys(e).forEach((function(a){var s;if(Array.isArray(e[a])){s=[];for(var c=0;c<e[a].length;c+=1)Array.isArray(e[a][c])||"object"!=typeof e[a][c]?s.push(o(a)+"[]="+i(e[a][c])):((n=t.slice()).push(a),n.push(String(c)),s.push(l.serializeObject(e[a][c],n)));s.length>0&&r.push(s.join("&"))}else null===e[a]||""===e[a]?r.push(o(a)+"="):"object"==typeof e[a]?((n=t.slice()).push(a),""!==(s=l.serializeObject(e[a],n))&&r.push(s)):void 0!==e[a]&&""!==e[a]?r.push(o(a)+"="+i(e[a])):""===e[a]&&r.push(o(a))})),r.join("&")},isObject:function(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object},merge:function(){var e;return(e=$).merge.apply(e,arguments)},extend:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];return n.splice(0,1),(e=$).assign.apply(e,[o].concat(n))},colorHexToRgb:function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?n.slice(1).map((function(e){return parseInt(e,16)})):null},colorRgbToHex:function(e,t,n){return"#"+[e,t,n].map((function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})).join("")},colorRgbToHsl:function(e,t,n){e/=255,t/=255,n/=255;var r,o=Math.max(e,t,n),i=Math.min(e,t,n),a=o-i;0===a?r=0:o===e?r=(t-n)/a%6:o===t?r=(n-e)/a+2:o===n&&(r=(e-t)/a+4);var s=(i+o)/2;return r<0&&(r=6+r),[60*r,0===a?0:a/(1-Math.abs(2*s-1)),s]},colorHslToRgb:function(e,t,n){var r,o=(1-Math.abs(2*n-1))*t,i=e/60,a=o*(1-Math.abs(i%2-1));Number.isNaN(e)||void 0===e?r=[0,0,0]:i<=1?r=[o,a,0]:i<=2?r=[a,o,0]:i<=3?r=[0,o,a]:i<=4?r=[0,a,o]:i<=5?r=[a,0,o]:i<=6&&(r=[o,0,a]);var s=n-o/2;return r.map((function(e){return Math.max(0,Math.min(255,Math.round(255*(e+s))))}))},colorHsbToHsl:function(e,t,n){var r={h:e,s:0,l:0},o=t,i=n;return r.l=(2-o)*i/2,r.s=r.l&&r.l<1?o*i/(r.l<.5?2*r.l:2-2*r.l):r.s,[r.h,r.s,r.l]},colorHslToHsb:function(e,t,n){var r={h:e,s:0,b:0},o=n,i=t*(o<.5?o:1-o);return r.b=o+i,r.s=o>0?2*i/r.b:r.s,[r.h,r.s,r.b]},colorThemeCSSProperties:function(){for(var e,t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(1===r.length?(e=r[0],t=l.colorHexToRgb(e)):3===r.length&&(t=r,e=l.colorRgbToHex.apply(l,t)),!t)return{};var i=l.colorRgbToHsl.apply(l,t),a=[i[0],i[1],Math.max(0,i[2]-.08)],s=[i[0],i[1],Math.max(0,i[2]+.08)],c=l.colorRgbToHex.apply(l,l.colorHslToRgb.apply(l,a)),u=l.colorRgbToHex.apply(l,l.colorHslToRgb.apply(l,s));return{"--f7-theme-color":e,"--f7-theme-color-rgb":t.join(", "),"--f7-theme-color-shade":c,"--f7-theme-color-tint":u}}},p=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=[]);var n=this;n.params=e,n.eventsParents=t,n.eventsListeners={},n.params&&n.params.on&&Object.keys(n.params.on).forEach((function(e){n.on(e,n.params.on[e])}))}var t=e.prototype;return t.on=function(e,t,n){var r=this;if("function"!=typeof t)return r;var o=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][o](t)})),r},t.once=function(e,t,n){var r=this;if("function"!=typeof t)return r;function o(){r.off(e,o),o.proxy&&delete o.proxy;for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];t.apply(r,i)}return o.proxy=t,r.on(e,o,n)},t.off=function(e,t){var n=this;return n.eventsListeners?(e.split(" ").forEach((function(e){void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,o){(r===t||r.proxy&&r.proxy===t)&&n.eventsListeners[e].splice(o,1)}))})),n):n},t.emit=function(){var e,t,n,r,o=this;if(!o.eventsListeners)return o;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];"string"==typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),n=o,r=o.eventsParents):(e=a[0].events,t=a[0].data,n=a[0].context||o,r=a[0].local?[]:a[0].parents||o.eventsParents);var c=Array.isArray(e)?e:e.split(" "),u=c.map((function(e){return e.replace("local::","")})),d=c.filter((function(e){return e.indexOf("local::")<0}));return u.forEach((function(e){if(o.eventsListeners&&o.eventsListeners[e]){var r=[];o.eventsListeners[e].forEach((function(e){r.push(e)})),r.forEach((function(e){e.apply(n,t)}))}})),r&&r.length>0&&r.forEach((function(e){e.emit.apply(e,[d].concat(t))})),o},e}(),f=function(e){function t(t,n){return void 0===t&&(t={}),void 0===n&&(n=[]),e.call(this,t,n)||this}r(t,e);var o=t.prototype;return o.useModuleParams=function(e,t){if(e.params){var n={};Object.keys(e.params).forEach((function(e){void 0!==t[e]&&(n[e]=$.extend({},t[e]))})),$.extend(t,e.params),Object.keys(n).forEach((function(e){$.extend(t[e],n[e])}))}},o.useModulesParams=function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var r=t.modules[n];r.params&&$.extend(e,r.params)}))},o.useModule=function(e,t){void 0===e&&(e=""),void 0===t&&(t={});var n=this;if(n.modules){var r="string"==typeof e?n.modules[e]:e;r&&(r.instance&&Object.keys(r.instance).forEach((function(e){var t=r.instance[e];n[e]="function"==typeof t?t.bind(n):t})),r.on&&n.on&&Object.keys(r.on).forEach((function(e){n.on(e,r.on[e])})),r.vnode&&(n.vnodeHooks||(n.vnodeHooks={}),Object.keys(r.vnode).forEach((function(e){Object.keys(r.vnode[e]).forEach((function(t){var o=r.vnode[e][t];n.vnodeHooks[t]||(n.vnodeHooks[t]={}),n.vnodeHooks[t][e]||(n.vnodeHooks[t][e]=[]),n.vnodeHooks[t][e].push(o.bind(n))}))}))),r.create&&r.create.bind(n)(t))}},o.useModules=function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var r=e[n]||{};t.useModule(n,r)}))},t.installModule=function(e){var t=this;t.prototype.modules||(t.prototype.modules={});var n=e.name||Object.keys(t.prototype.modules).length+"_"+$.now();if(t.prototype.modules[n]=e,e.proto&&Object.keys(e.proto).forEach((function(n){t.prototype[n]=e.proto[n]})),e.static&&Object.keys(e.static).forEach((function(n){t[n]=e.static[n]})),e.install){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];e.install.apply(t,o)}return t},t.use=function(e){var t=this;if(Array.isArray(e))return e.forEach((function(e){return t.installModule(e)})),t;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.installModule.apply(t,[e].concat(r))},n(t,null,[{key:"components",set:function(e){this.use&&this.use(e)}}]),t}(p);function m(e){void 0===e&&(e={});var t=e,n=t.defaultSelector,r=t.constructor,o=t.domProp,i=t.app,s=t.addMethods,c={create:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(r,i?[i].concat(t):t)},get:function(e){if(void 0===e&&(e=n),e instanceof r)return e;var t=$(e);return 0!==t.length?t[0][o]:void 0},destroy:function(e){var t=c.get(e);if(t&&t.destroy)return t.destroy()}};return s&&Array.isArray(s)&&s.forEach((function(e){c[e]=function(t){void 0===t&&(t=n);for(var r=c.get(t),o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(r&&r[e])return r[e].apply(r,i)}})),c}function h(e){void 0===e&&(e={});var t=e,n=t.defaultSelector,r=t.constructor,o=t.app;return $.extend(m({defaultSelector:n,constructor:r,app:o,domProp:"wiaModal"}),{open:function(e,t){var n=$(e),i=n[0].wiaModal;return i||(i=new r(o,{el:n})),i.open(t)},close:function(e,t){void 0===e&&(e=n);var i=$(e);if(0!==i.length){var a=i[0].wiaModal;return a||(a=new r(o,{el:i})),a.close(t)}}})}var v=[];function w(e){var t=this;return new Promise((function(n,r){var o,i,a,s=t.instance;if(e){if("string"==typeof e){var c=e.match(/([a-z0-9-]*)/i);if(e.indexOf(".")<0&&c&&c[0].length===e.length){if(!s||s&&!s.params.lazyModulesPath)return void r(new Error('Wia: "lazyModulesPath" app parameter must be specified to fetch module by name'));o=s.params.lazyModulesPath+"/"+e+".js"}else o=e}else"function"==typeof e?a=e:i=e;if(a){var u=a(t,!1);if(!u)return void r(new Error("Wia: Can't find Wia component in specified component function"));if(t.prototype.modules&&t.prototype.modules[u.name])return void n();f(u),n()}if(i){var d=i;if(!d)return void r(new Error("Wia: Can't find Wia component in specified component"));if(t.prototype.modules&&t.prototype.modules[d.name])return void n();f(d),n()}if(o){if(v.indexOf(o)>=0)return void n();v.push(o);var l=new Promise((function(e,n){t.request.get(o,(function(r){var i="wia_component_loader_callback_"+$.id(),a=document.createElement("script");a.innerHTML="window."+i+" = function (Wia, WiaAutoInstallComponent) {return "+r.trim()+"}",$("head").append(a);var s=window[i];delete window[i],$(a).remove();var c=s(t,!1);c?(t.prototype.modules&&t.prototype.modules[c.name]||f(c),e()):n(new Error("Wia: Can't find Wia component in "+o+" file"))}),(function(e,t){n(e,t)}))})),p=new Promise((function(e){t.request.get(o.replace(".js",s.rtl?".rtl.css":".css"),(function(t){var n=document.createElement("style");n.innerHTML=t,$("head").append(n),e()}),(function(){e()}))}));Promise.all([l,p]).then((function(){n()})).catch((function(e){r(e)}))}}else r(new Error("Wia: Lazy module must be specified"));function f(e){t.use(e),s&&(s.useModuleParams(e,s.params),s.useModule(e))}}))}var g={name:"resize",instance:{getSize:function(){if(!this.root[0])return{width:0,height:0,left:0,top:0};var e=this.root.offset(),t=[this.root[0].offsetWidth,this.root[0].offsetHeight,e.left,e.top],n=t[0],r=t[1],o=t[2],i=t[3];return this.width=n,this.height=r,this.left=o,this.top=i,{width:n,height:r,left:o,top:i}}},on:{init:function(){var e=this;e.getSize(),window.addEventListener("resize",(function(){e.emit("resize")}),!1),window.addEventListener("orientationchange",(function(){e.emit("orientationchange")}))},orientationchange:function(){this.device.ipad&&(document.body.scrollLeft=0,setTimeout((function(){document.body.scrollLeft=0}),0))},resize:function(){this.getSize()}}},y={registrations:[],register:function(e,t){var n=this;return"serviceWorker"in window.navigator&&n.serviceWorker.container?new Promise((function(r,o){n.serviceWorker.container.register(e,t?{scope:t}:{}).then((function(e){y.registrations.push(e),n.emit("serviceWorkerRegisterSuccess",e),r(e)})).catch((function(e){n.emit("serviceWorkerRegisterError",e),o(e)}))})):new Promise((function(e,t){t(new Error("Service worker is not supported"))}))},unregister:function(e){var t,n=this;return"serviceWorker"in window.navigator&&n.serviceWorker.container?(t=e?Array.isArray(e)?e:[e]:y.registrations,Promise.all(t.map((function(e){return new Promise((function(t,r){e.unregister().then((function(){y.registrations.indexOf(e)>=0&&y.registrations.splice(y.registrations.indexOf(e),1),n.emit("serviceWorkerUnregisterSuccess",e),t()})).catch((function(t){n.emit("serviceWorkerUnregisterError",e,t),r(t)}))}))})))):new Promise((function(e,t){t(new Error("Service worker is not supported"))}))}},b={name:"sw",params:{serviceWorker:{path:void 0,scope:void 0}},create:function(){$.extend(this,{serviceWorker:{container:"serviceWorker"in window.navigator?window.navigator.serviceWorker:void 0,registrations:y.registrations,register:y.register.bind(this),unregister:y.unregister.bind(this)}})},on:{init:function(){if("serviceWorker"in window.navigator){var e=this;if(e.serviceWorker.container){var t=e.params.serviceWorker.path,n=e.params.serviceWorker.scope;if(t&&(!Array.isArray(t)||t.length))(Array.isArray(t)?t:[t]).forEach((function(t){e.serviceWorker.register(t,n)}))}}}}};$.support=c,$.device=u;var k=function(e){function t(n){var r;if(r=e.call(this,n)||this,t.instance)throw new Error("App is already initialized and can't be initialized more than once");var o=$.extend({},n),i=s(r);t.instance=i,$.app=i,$.App=t;var a={version:"1.0.0",id:"pub.wia.testapp",root:"body",theme:"auto",language:window.navigator.language,routes:[],name:"wia",lazyModulesPath:null,initOnDeviceReady:!0,init:!0,autoDarkTheme:!1,iosTranslucentBars:!0,iosTranslucentModals:!0,component:void 0,componentUrl:void 0};i.useModulesParams(a),i.params=$.extend(a,n);var d=$(i.params.root);$.extend(i,{id:i.params.id,name:i.params.name,version:i.params.version,routes:i.params.routes,language:i.params.language,root:d,cfg:i.params.cfg,api:i.params.api,rtl:"rtl"===d.css("direction"),theme:"auto"===i.params.theme?u.ios?"ios":u.desktop&&u.electron?"aurora":"md":i.params.theme,passedParams:o,online:window.navigator.onLine}),i.root&&i.root[0]&&(i.root[0].wia=i),i.touchEvents={start:c.touch?"touchstart":c.pointerEvents?"pointerdown":"mousedown",move:c.touch?"touchmove":c.pointerEvents?"pointermove":"mousemove",end:c.touch?"touchend":c.pointerEvents?"pointerup":"mouseup"},i.useModules(),i.initData();var l="(prefers-color-scheme: dark)",p="(prefers-color-scheme: light)";function f(){u.cordova&&i.params.initOnDeviceReady?$(document).on("deviceready",(function(){i.init()})):i.init()}return i.mq={},window.matchMedia&&(i.mq.dark=window.matchMedia(l),i.mq.light=window.matchMedia(p)),i.colorSchemeListener=function(e){var t=e.matches,n=e.media;if(t){var r=document.querySelector("html");n===l?r.classList.add("theme-dark"):n===p&&r.classList.remove("theme-dark")}},i.params.component||i.params.componentUrl?i.router.componentLoader(i.params.component,i.params.componentUrl,{componentOptions:{el:i.root[0]}},(function(e){i.root=$(e),i.root[0].f7=i,i.rootComponent=e.f7Component,i.params.init&&f()})):i.params.init&&f(),i||s(r)}r(t,e);var o=t.prototype;return o.initData=function(){var e=this;e.data={},e.params.data&&"function"==typeof e.params.data?$.extend(e.data,e.params.data.bind(e)()):e.params.data&&$.extend(e.data,e.params.data),e.methods={},e.params.methods&&Object.keys(e.params.methods).forEach((function(t){"function"==typeof e.params.methods[t]?e.methods[t]=e.params.methods[t].bind(e):e.methods[t]=e.params.methods[t]}))},o.enableAutoDarkTheme=function(){if(window.matchMedia){var e=this,t=document.querySelector("html");e.mq.dark&&e.mq.light&&(e.mq.dark.addListener(e.colorSchemeListener),e.mq.light.addListener(e.colorSchemeListener)),e.mq.dark&&e.mq.dark.matches?t.classList.add("theme-dark"):e.mq.light&&e.mq.light.matches&&t.classList.remove("theme-dark")}},o.disableAutoDarkTheme=function(){if(window.matchMedia){this.mq.dark&&this.mq.dark.removeListener(this.colorSchemeListener),this.mq.light&&this.mq.light.removeListener(this.colorSchemeListener)}},o.init=function(){var e=this;return e.initialized||(e.root.addClass("framework7-initializing"),e.rtl&&$("html").attr("dir","rtl"),e.params.autoDarkTheme&&e.enableAutoDarkTheme(),window.addEventListener("offline",(function(){e.online=!1,e.emit("offline"),e.emit("connection",!1)})),window.addEventListener("online",(function(){e.online=!0,e.emit("online"),e.emit("connection",!0)})),e.root.addClass("framework7-root"),$("html").removeClass("ios md aurora").addClass(e.theme),e.params.iosTranslucentBars&&"ios"===e.theme&&u.ios&&$("html").addClass("ios-translucent-bars"),e.params.iosTranslucentModals&&"ios"===e.theme&&u.ios&&$("html").addClass("ios-translucent-modals"),$.nextFrame((function(){e.root.removeClass("framework7-initializing")})),function(){var e=[],t=document.querySelector("html"),n=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');if(!t)return;u.standalone&&u.ios&&n&&"black-translucent"===n.content&&e.push("device-full-viewport");e.push("device-pixel-ratio-"+Math.floor(u.pixelRatio)),u.os&&!u.desktop?e.push("device-"+u.os):u.desktop&&(e.push("device-desktop"),u.os&&e.push("device-"+u.os));(u.cordova||u.phonegap)&&e.push("device-cordova");e.forEach((function(e){t.classList.add(e)}))}(),e.initialized=!0,e.emit("init")),e},o.loadModule=function(e){t.loadModule(e),this[e.name].init&&this[e.name].init()},o.loadModules=function(){return t.loadModules.apply(t,arguments)},o.getVnodeHooks=function(e,t){return this.vnodeHooks&&this.vnodeHooks[e]&&this.vnodeHooks[e][t]||[]},n(t,[{key:"$",get:function(){return $}}],[{key:"Dom",get:function(){return $}},{key:"$",get:function(){return $}},{key:"Module",get:function(){return f}},{key:"Event",get:function(){return p}}]),t}(f);k.ModalMethods=h,k.ConstructorMethods=m,k.loadModule=w,k.loadModules=function(e){return Promise.all(e.map((function(e){return k.loadModule(e)})))},k.support=c,k.device=u,k.utils=l,k.use([g,b]);var x,M,E,A,O={normal:"nor",retina:"ret",srcset:"set",threshold:0},P=window.innerHeight,L=C(),T=document.body.classList.contains("srcset")||"srcset"in document.createElement("img"),S=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,j=function(){function e(e){x=$.assign({},O,e)}var t=e.prototype;return t.start=function(e){return["scroll","resize"].forEach((function(t){return e.addEventListener(t,H)})),A=e,this},t.stop=function(){return["scroll","resize"].forEach((function(e){return A.removeEventListener(e,H)})),this},t.update=function(){setTimeout((function(){q(),R()}),1)},e}();function C(){return window.scrollY||window.pageYOffset}function H(){L=C(),M||(window.requestAnimationFrame((function(){return R()})),M=!0)}function W(e){var t=L,n=t+P,r=function(e){return e.getBoundingClientRect().top+L}(e),o=r+e.offsetHeight,i=x.threshold/100*P;return o>=t-i&&r<=n+i}function R(){if(E)return P=window.innerHeight,E.forEach((function(e){return W(e)&&function(e){if($.emit("lazy:src:before",e),T&&e.hasAttribute(x.srcset))e.setAttribute("srcset",e.getAttribute(x.srcset));else{var t=S>1&&e.getAttribute(x.retina)||e.getAttribute(x.normal);e.setAttribute("src",t),console.log("set src:"+t)}$.emit("lazy:src:after",e),[x.normal,x.retina,x.srcset].forEach((function(t){return e.removeAttribute(t)})),q()}(e)})),M=!1,this}function q(e){return E=e?Array.prototype.slice.call(e.querySelectorAll("["+x.normal+"]")):Array.prototype.slice.call(document.querySelectorAll("["+x.normal+"]")),this}var z=function(){function e(e,t,n,r){this.app=e,this.cfg=e.cfg,this.name=t,this.title=n,this.style=r||"./page/"+t+".css",this.path=""+t,this.view=null,this.html="",this.css="",this.js="",this.data={},this.param={}}var t=e.prototype;return t.load=function(e){this.param=e},t.ready=function(e,t,n){$.assign(this,{view:e,param:t,back:n})},t.show=function(e,t,n){$.assign(this,{view:e,param:t,back:n})},e}();export{e as Ajax,k as App,m as Constructors,u as Device,p as Event,j as Lazy,h as Modals,f as Module,z as Page,g as Resize,b as SW,c as Support,l as Utils,w as loadModule};