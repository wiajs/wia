/*!
  * wia core v0.1.1
  * (c) 2020 Sibyl Yu
  * @license MIT
  */
var e,t;e=this,t=function(e){"use strict";
/**
   * Dom 操作常用函数，从 Zepto 和 Dom7 中摘录
   * http://www.wia.pub/dom
   *
   * @license MIT
   * Released on: March 5, 2020
   */
const{Dom:t}=$,n=[];var o=Object.freeze({attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(const t in e)this[n][t]=e[t],this[n].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},prop:function(e,t){if(1!==arguments.length||"string"!=typeof e){for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n][e]=t;else for(const t in e)this[n][t]=e[t];return this}if(this[0])return this[0][e]},data:function(e,t){let n;if(void 0!==t){for(let o=0;o<this.length;o+=1)(n=this[o]).domElementDataStorage||(n.domElementDataStorage={}),n.domElementDataStorage[e]=t;return this}if(n=this[0]){if(n.domElementDataStorage&&e in n.domElementDataStorage)return n.domElementDataStorage[e];const t=n.getAttribute(`data-${e}`);return t||void 0}},removeData:function(e){for(let t=0;t<this.length;t+=1){const n=this[t];n.domElementDataStorage&&n.domElementDataStorage[e]&&(n.domElementDataStorage[e]=null,delete n.domElementDataStorage[e])}},dataset:function(){const e=this[0];if(!e)return;const t={};if(e.dataset)for(const n in e.dataset)t[n]=e.dataset[n];else for(let n=0;n<e.attributes.length;n+=1){const o=e.attributes[n];o.name.indexOf("data-")>=0&&(t[$.camelCase(o.name.split("data-")[1])]=o.value)}for(const e in t)"false"===t[e]?t[e]=!1:"true"===t[e]?t[e]=!0:parseFloat(t[e])===1*t[e]&&(t[e]*=1);return t},val:function(e){const t=this;if(void 0!==e){for(let n=0;n<t.length;n+=1){const o=t[n];if(Array.isArray(e)&&o.multiple&&"select"===o.nodeName.toLowerCase())for(let t=0;t<o.options.length;t+=1)o.options[t].selected=e.indexOf(o.options[t].value)>=0;else o.value=e}return t}if(t[0]){if(t[0].multiple&&"select"===t[0].nodeName.toLowerCase()){const e=[];for(let n=0;n<t[0].selectedOptions.length;n+=1)e.push(t[0].selectedOptions[n].value);return e}return t[0].value}},transform:function(e){for(let t=0;t<this.length;t+=1){const n=this[t].style;n.webkitTransform=e,n.transform=e}return this},transition:function(e){"string"!=typeof e&&(e=`${e}ms`);for(let t=0;t<this.length;t+=1){const n=this[t].style;n.webkitTransitionDuration=e,n.transitionDuration=e}return this},on:function(...e){let[t,n,o,r]=e;function i(e){const t=e.target;if(!t)return;const r=e.target.domEventData||[];if(r.indexOf(e)<0&&r.unshift(e),$(t).is(n))o.apply(t,r);else{const e=$(t).parents();for(let t=0;t<e.length;t+=1)$(e[t]).is(n)&&o.apply(e[t],r)}}function s(e){const t=e&&e.target&&e.target.domEventData||[];t.indexOf(e)<0&&t.unshift(e),o.apply(this,t)}"function"==typeof e[1]&&([t,o,r]=e,n=void 0),r||(r=!1);const a=t.split(" ");let l;for(let e=0;e<this.length;e+=1){const t=this[e];if(n)for(l=0;l<a.length;l+=1){const e=a[l];t.domLiveListeners||(t.domLiveListeners={}),t.domLiveListeners[e]||(t.domLiveListeners[e]=[]),t.domLiveListeners[e].push({listener:o,proxyListener:i}),t.addEventListener(e,i,r)}else for(l=0;l<a.length;l+=1){const e=a[l];t.domListeners||(t.domListeners={}),t.domListeners[e]||(t.domListeners[e]=[]),t.domListeners[e].push({listener:o,proxyListener:s}),t.addEventListener(e,s,r)}}return this},off:function(...e){let[t,n,o,r]=e;"function"==typeof e[1]&&([t,o,r]=e,n=void 0),r||(r=!1);const i=t.split(" ");for(let e=0;e<i.length;e+=1){const t=i[e];for(let e=0;e<this.length;e+=1){const i=this[e];let s;if(!n&&i.domListeners?s=i.domListeners[t]:n&&i.domLiveListeners&&(s=i.domLiveListeners[t]),s&&s.length)for(let e=s.length-1;e>=0;e-=1){const n=s[e];o&&n.listener===o?(i.removeEventListener(t,n.proxyListener,r),s.splice(e,1)):o&&n.listener&&n.listener.domproxy&&n.listener.domproxy===o?(i.removeEventListener(t,n.proxyListener,r),s.splice(e,1)):o||(i.removeEventListener(t,n.proxyListener,r),s.splice(e,1))}}}return this},once:function(...e){const t=this;let[n,o,r,i]=e;function s(...e){r.apply(this,e),t.off(n,o,s,i),s.domproxy&&delete s.domproxy}return"function"==typeof e[1]&&([n,r,i]=e,o=void 0),s.domproxy=r,t.on(n,o,s,i)},trigger:function(...e){const t=e[0].split(" "),n=e[1];for(let o=0;o<t.length;o+=1){const r=t[o];for(let t=0;t<this.length;t+=1){const o=this[t];let i;try{i=new window.CustomEvent(r,{detail:n,bubbles:!0,cancelable:!0})}catch(e){(i=document.createEvent("Event")).initEvent(r,!0,!0),i.detail=n}o.domEventData=e.filter((e,t)=>t>0),o.dispatchEvent(i),o.domEventData=[],delete o.domEventData}}return this},transitionEnd:function(e){const t=["webkitTransitionEnd","transitionend"],n=this;let o;function r(i){if(i.target===this)for(e.call(this,i),o=0;o<t.length;o+=1)n.off(t[o],r)}if(e)for(o=0;o<t.length;o+=1)n.on(t[o],r);return this},animationEnd:function(e){const t=["webkitAnimationEnd","animationend"],n=this;let o;function r(i){if(i.target===this)for(e.call(this,i),o=0;o<t.length;o+=1)n.off(t[o],r)}if(e)for(o=0;o<t.length;o+=1)n.on(t[o],r);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){const e=this[0],t=e.getBoundingClientRect(),n=document.body,o=e.clientTop||n.clientTop||0,r=e.clientLeft||n.clientLeft||0,i=e===window?window.scrollY:e.scrollTop,s=e===window?window.scrollX:e.scrollLeft;return{top:t.top+i-o,left:t.left+s-r}}return null},hide:function(){for(let e=0;e<this.length;e+=1)this[e].style.display="none";return this},show:function(){return this.each((function(){"none"===this.style.display&&(this.style.display=""),"none"===getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display="block")}))},styles:function(){return this[0]?window.getComputedStyle(this[0],null):{}},css:function(e,t){let n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(let t in e)this[n].style[t]=e[t];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},toArray:function(){const e=[];for(let t=0;t<this.length;t+=1)e.push(this[t]);return e},each:function(e){return n.some.call(this,(function(t,n){return!1===e.call(t,n,t)})),this},forEach:function(e){return n.some.call(this,(function(t,n){return!1===e.call(t,t,n)})),this},filter:function(e){const n=[],o=this;for(let t=0;t<o.length;t+=1)e.call(o[t],t,o[t])&&n.push(o[t]);return new t(n)},map:function(e){const n=[],o=this;for(let t=0;t<o.length;t+=1)n.push(e.call(o[t],t,o[t]));return new t(n)},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const n=this[0];let o,r;if(!n||void 0===e)return!1;if("string"==typeof e){if(n.matches)return n.matches(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);for(o=$(e),r=0;r<o.length;r+=1)if(o[r]===n)return!0;return!1}if(e===document)return n===document;if(e===window)return n===window;if(e.nodeType||e instanceof t){for(o=e.nodeType?[e]:e,r=0;r<o.length;r+=1)if(o[r]===n)return!0;return!1}return!1},indexOf:function(e){for(let t=0;t<this.length;t+=1)if(this[t]===e)return t;return-1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;const n=this.length;let o;return new t(e>n-1?[]:e<0?(o=n+e)<0?[]:[this[o]]:[this[e]])},append:function(...e){let n;for(let o=0;o<e.length;o+=1){n=e[o];for(let e=0;e<this.length;e+=1)if("string"==typeof n){const t=document.createElement("div");for(t.innerHTML=n;t.firstChild;)this[e].appendChild(t.firstChild)}else if(n instanceof t)for(let t=0;t<n.length;t+=1)this[e].appendChild(n[t]);else this[e].appendChild(n)}return this},appendTo:function(e){return $(e).append(this),this},prepend:function(e){let n,o;for(n=0;n<this.length;n+=1)if("string"==typeof e){const t=document.createElement("div");for(t.innerHTML=e,o=t.childNodes.length-1;o>=0;o-=1)this[n].insertBefore(t.childNodes[o],this[n].childNodes[0])}else if(e instanceof t)for(o=0;o<e.length;o+=1)this[n].insertBefore(e[o],this[n].childNodes[0]);else this[n].insertBefore(e,this[n].childNodes[0]);return this},prependTo:function(e){return $(e).prepend(this),this},insertBefore:function(e){const t=$(e);for(let e=0;e<this.length;e+=1)if(1===t.length)t[0].parentNode.insertBefore(this[e],t[0]);else if(t.length>1)for(let n=0;n<t.length;n+=1)t[n].parentNode.insertBefore(this[e].cloneNode(!0),t[n])},insertAfter:function(e){const t=$(e);for(let e=0;e<this.length;e+=1)if(1===t.length)t[0].parentNode.insertBefore(this[e],t[0].nextSibling);else if(t.length>1)for(let n=0;n<t.length;n+=1)t[n].parentNode.insertBefore(this[e].cloneNode(!0),t[n].nextSibling)},next:function(e){return this.length>0?e?this[0].nextElementSibling&&$(this[0].nextElementSibling).is(e)?new t([this[0].nextElementSibling]):new t([]):this[0].nextElementSibling?new t([this[0].nextElementSibling]):new t([]):new t([])},nextAll:function(e){const n=[];let o=this[0];if(!o)return new t([]);for(;o.nextElementSibling;){const t=o.nextElementSibling;e?$(t).is(e)&&n.push(t):n.push(t),o=t}return new t(n)},prev:function(e){if(this.length>0){const n=this[0];return e?n.previousElementSibling&&$(n.previousElementSibling).is(e)?new t([n.previousElementSibling]):new t([]):n.previousElementSibling?new t([n.previousElementSibling]):new t([])}return new t([])},prevAll:function(e){const n=[];let o=this[0];if(!o)return new t([]);for(;o.previousElementSibling;){const t=o.previousElementSibling;e?$(t).is(e)&&n.push(t):n.push(t),o=t}return new t(n)},siblings:function(e){return this.nextAll(e).add(this.prevAll(e))},parent:function(e){const t=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?$(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return $($.uniq(t))},parents:function(e){const t=[];for(let n=0;n<this.length;n+=1){let o=this[n].parentNode;for(;o;)e?$(o).is(e)&&t.push(o):t.push(o),o=o.parentNode}return $($.uniq(t))},closest:function(e){let n=this;return void 0===e?new t([]):(n.is(e)||(n=n.parents(e).eq(0)),n)},find:function(e){const n=[];for(let t=0;t<this.length;t+=1){const o=this[t].querySelectorAll(e);for(let e=0;e<o.length;e+=1)n.push(o[e])}return new t(n)},hasChild:function(){return!!this.dom&&this.dom.children.length>0},children:function(e){const n=[];for(let t=0;t<this.length;t+=1){const o=this[t].childNodes;for(let t=0;t<o.length;t+=1)e?1===o[t].nodeType&&$(o[t]).is(e)&&n.push(o[t]):1===o[t].nodeType&&n.push(o[t])}return new t($.uniq(n))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},detach:function(){return this.remove()},add:function(...e){const t=this;let n,o;for(n=0;n<e.length;n+=1){const r=$(e[n]);for(o=0;o<r.length;o+=1)t[t.length]=r[o],t.length+=1}return t},empty:function(){for(let e=0;e<this.length;e+=1){const t=this[e];if(1===t.nodeType){for(let e=0;e<t.childNodes.length;e+=1)t.childNodes[e].parentNode&&t.childNodes[e].parentNode.removeChild(t.childNodes[e]);t.textContent=""}}return this}}),r=Object.freeze({scrollTo:function(...e){let[t,n,o,r,i]=e;return 4===e.length&&"function"==typeof r&&(i=r,[t,n,o,i,r]=e),void 0===r&&(r="swing"),this.each((function(){const e=this;let s,a,l,c,u,d,h,f,m=n>0||0===n,p=t>0||0===t;if(void 0===r&&(r="swing"),m&&(s=e.scrollTop,o||(e.scrollTop=n)),p&&(a=e.scrollLeft,o||(e.scrollLeft=t)),!o)return;m&&(l=e.scrollHeight-e.offsetHeight,u=Math.max(Math.min(n,l),0)),p&&(c=e.scrollWidth-e.offsetWidth,d=Math.max(Math.min(t,c),0));let g=null;m&&u===s&&(m=!1),p&&d===a&&(p=!1),$.requestAnimationFrame((function t(n=(new Date).getTime()){null===g&&(g=n);const l=Math.max(Math.min((n-g)/o,1),0),c="linear"===r?l:.5-Math.cos(l*Math.PI)/2;let w;m&&(h=s+c*(u-s)),p&&(f=a+c*(d-a)),m&&u>s&&h>=u&&(e.scrollTop=u,w=!0),m&&u<s&&h<=u&&(e.scrollTop=u,w=!0),p&&d>a&&f>=d&&(e.scrollLeft=d,w=!0),p&&d<a&&f<=d&&(e.scrollLeft=d,w=!0),w?i&&i():(m&&(e.scrollTop=h),p&&(e.scrollLeft=f),$.requestAnimationFrame(t))}))}))},scrollTop:function(...e){let[t,n,o,r]=e;3===e.length&&"function"==typeof o&&([t,n,r,o]=e);const i=this;return void 0===t?i.length>0?i[0].scrollTop:null:i.scrollTo(void 0,t,n,o,r)},scrollLeft:function(...e){let[t,n,o,r]=e;3===e.length&&"function"==typeof o&&([t,n,r,o]=e);const i=this;return void 0===t?i.length>0?i[0].scrollLeft:null:i.scrollTo(t,void 0,n,o,r)}});$.getTranslate=function(e,t="x"){let n,o,r;const i=window.getComputedStyle(e,null);return window.WebKitCSSMatrix?((o=i.transform||i.webkitTransform).split(",").length>6&&(o=o.split(", ").map(e=>e.replace(",",".")).join(", ")),r=new window.WebKitCSSMatrix("none"===o?"":o)):n=(r=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(o=window.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(o=window.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),o||0};var i=Object.freeze({animate:function(e,t){const n=this,o={props:Object.assign({},e),params:Object.assign({duration:300,easing:"swing"},t),elements:n,animating:!1,que:[],easingProgress:(e,t)=>"swing"===e?.5-Math.cos(t*Math.PI)/2:"function"==typeof e?e(t):t,stop(){o.frameId&&$.cancelAnimationFrame(o.frameId),o.animating=!1,o.elements.each((e,t)=>{delete t.dom7AnimateInstance}),o.que=[]},done(e){if(o.animating=!1,o.elements.each((e,t)=>{delete t.domAnimateInstance}),e&&e(n),o.que.length>0){const e=o.que.shift();o.animate(e[0],e[1])}},animate(e,t){if(o.animating)return o.que.push([e,t]),o;const r=[];o.elements.each((t,n)=>{let i,s,a,l,c;n.dom7AnimateInstance||(o.elements[t].domAnimateInstance=o),r[t]={container:n},Object.keys(e).forEach(o=>{i=window.getComputedStyle(n,null).getPropertyValue(o).replace(",","."),s=parseFloat(i),a=i.replace(s,""),l=parseFloat(e[o]),c=e[o]+a,r[t][o]={initialFullValue:i,initialValue:s,unit:a,finalValue:l,finalFullValue:c,currentValue:s}})});let i,s,a=null,l=0,c=0,u=!1;return o.animating=!0,o.frameId=$.requestAnimationFrame((function d(){let h,f;i=(new Date).getTime(),u||(u=!0,t.begin&&t.begin(n)),null===a&&(a=i),t.progress&&t.progress(n,Math.max(Math.min((i-a)/t.duration,1),0),a+t.duration-i<0?0:a+t.duration-i,a),r.forEach(n=>{const u=n;s||u.done||Object.keys(e).forEach(n=>{if(s||u.done)return;h=Math.max(Math.min((i-a)/t.duration,1),0),f=o.easingProgress(t.easing,h);const{initialValue:d,finalValue:m,unit:p}=u[n];u[n].currentValue=d+f*(m-d);const g=u[n].currentValue;(m>d&&g>=m||m<d&&g<=m)&&(u.container.style[n]=m+p,(c+=1)===Object.keys(e).length&&(u.done=!0,l+=1),l===r.length&&(s=!0)),s?o.done(t.complete):u.container.style[n]=g+p})}),s||(o.frameId=$.requestAnimationFrame(d))})),o}};if(0===o.elements.length)return n;let r;for(let e=0;e<o.elements.length;e+=1)o.elements[e].domAnimateInstance?r=o.elements[e].domAnimateInstance:o.elements[e].domAnimateInstance=o;return r||(r=o),"stop"===e?r.stop():r.animate(o.props,o.params),n},stop:function(){const e=this;for(let t=0;t<e.length;t+=1)e[t].domAnimateInstance&&e[t].domAnimateInstance.stop()},getTranslate:function(e="x"){let t=0;return this&&this.dom&&(t=$.getTranslate(this.dom,e)),t}});const s="resize scroll".split(" ");function a(e,...t){if(void 0===t[0]){for(let t=0;t<this.length;t+=1)s.indexOf(e)<0&&(e in this[t]?this[t][e]():$(this[t]).trigger(e));return this}return this.on(e,...t)}[o,r,i,Object.freeze({click:function(...e){return a.bind(this)("click",...e)},blur:function(...e){return a.bind(this)("blur",...e)},focus:function(...e){return a.bind(this)("focus",...e)},focusin:function(...e){return a.bind(this)("focusin",...e)},focusout:function(...e){return a.bind(this)("focusout",...e)},keyup:function(...e){return a.bind(this)("keyup",...e)},keydown:function(...e){return a.bind(this)("keydown",...e)},keypress:function(...e){return a.bind(this)("keypress",...e)},submit:function(...e){return a.bind(this)("submit",...e)},change:function(...e){return a.bind(this)("change",...e)},mousedown:function(...e){return a.bind(this)("mousedown",...e)},mousemove:function(...e){return a.bind(this)("mousemove",...e)},mouseup:function(...e){return a.bind(this)("mouseup",...e)},mouseenter:function(...e){return a.bind(this)("mouseenter",...e)},mouseleave:function(...e){return a.bind(this)("mouseleave",...e)},mouseout:function(...e){return a.bind(this)("mouseout",...e)},mouseover:function(...e){return a.bind(this)("mouseover",...e)},touchstart:function(...e){return a.bind(this)("touchstart",...e)},touchend:function(...e){return a.bind(this)("touchend",...e)},touchmove:function(...e){return a.bind(this)("touchmove",...e)},resize:function(...e){return a.bind(this)("resize",...e)},scroll:function(...e){return a.bind(this)("scroll",...e)}})].forEach(e=>{Object.keys(e).forEach(t=>{$.fn[t]=e[t]})});const l={touch:!!(window.navigator.maxTouchPoints>0||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),pointerEvents:!!window.PointerEvent,observer:"MutationObserver"in window||"WebkitMutationObserver"in window,passiveListener:function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:"ongesturestart"in window,intersectionObserver:"IntersectionObserver"in window},c=function(){const e=window.navigator.platform,t=window.navigator.userAgent,n={ios:!1,android:!1,androidChrome:!1,desktop:!1,iphone:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!(!window.cordova&&!window.phonegap),phonegap:!(!window.cordova&&!window.phonegap),electron:!1},o=window.screen.width,r=window.screen.height,i=t.match(/(Android);?[\s\/]+([\d.]+)?/);let s=t.match(/(iPad).*OS\s([\d_]+)/);const a=t.match(/(iPod)(.*OS\s([\d_]+))?/),c=!s&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/),u=t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0,d=t.indexOf("Edge/")>=0,h=t.indexOf("Gecko/")>=0&&t.indexOf("Firefox/")>=0,f="Win32"===e,m=t.toLowerCase().indexOf("electron")>=0;let p="MacIntel"===e;return!s&&p&&l.touch&&(1024===o&&1366===r||834===o&&1194===r||834===o&&1112===r||768===o&&1024===r)&&(s=t.match(/(Version)\/([\d.]+)/),p=!1),n.ie=u,n.edge=d,n.firefox=h,i&&!f&&(n.os="android",n.osVersion=i[2],n.android=!0,n.androidChrome=t.toLowerCase().indexOf("chrome")>=0),(s||c||a)&&(n.os="ios",n.ios=!0),c&&!a&&(n.osVersion=c[2].replace(/_/g,"."),n.iphone=!0),s&&(n.osVersion=s[2].replace(/_/g,"."),n.ipad=!0),a&&(n.osVersion=a[3]?a[3].replace(/_/g,"."):null,n.ipod=!0),n.ios&&n.osVersion&&t.indexOf("Version/")>=0&&"10"===n.osVersion.split(".")[0]&&(n.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),n.webView=!(!(c||s||a)||!t.match(/.*AppleWebKit(?!.*Safari)/i)&&!window.navigator.standalone)||window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,n.webview=n.webView,n.standalone=n.webView,n.desktop=!(n.ios||n.android)||m,n.desktop&&(n.electron=m,n.macos=p,n.windows=f,n.macos&&(n.os="macos"),n.windows&&(n.os="windows")),n.pixelRatio=window.devicePixelRatio||1,n.prefersColorScheme=function(){let e;return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&(e="light"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(e="dark"),e},n.wechat=/MicroMessenger/i.test(t),n.weixin=n.wechat,n}();let u=1;const d={uniqueNumber:()=>u+=1,id:(e="xxxxxxxxxx",t="0123456789abcdef")=>$.uid(e,t),mdPreloaderContent:'\n    <span class="preloader-inner">\n      <span class="preloader-inner-gap"></span>\n      <span class="preloader-inner-left">\n          <span class="preloader-inner-half-circle"></span>\n      </span>\n      <span class="preloader-inner-right">\n          <span class="preloader-inner-half-circle"></span>\n      </span>\n    </span>\n  '.trim(),iosPreloaderContent:`\n    <span class="preloader-inner">\n      ${[0,1,2,3,4,5,6,7,8,9,10,11].map(()=>'<span class="preloader-inner-line"></span>').join("")}\n    </span>\n  `.trim(),auroraPreloaderContent:'\n    <span class="preloader-inner">\n      <span class="preloader-inner-circle"></span>\n    </span>\n  ',eventNameToColonCase(e){let t;return e.split("").map((e,n)=>e.match(/[A-Z]/)&&0!==n&&!t?(t=!0,`:${e.toLowerCase()}`):e.toLowerCase()).join("")},deleteProps(e){$.deleteProps(e)},nextTick:(e,t=0)=>setTimeout(e,t),nextFrame:e=>$.nextFrame(e),now:()=>Date.now(),requestAnimationFrame:e=>$.requestAnimationFrame(e),cancelAnimationFrame:e=>$.cancelAnimationFrame(e),parseUrlQuery:e=>$.urlParam(e),getTranslate:(e,t="x")=>$.getTranslate(e,t),serializeObject(e,t=[]){if("string"==typeof e)return e;const n=[];let o;function r(e){if(t.length>0){let n="";for(let e=0;e<t.length;e+=1)n+=0===e?t[e]:`[${encodeURIComponent(t[e])}]`;return`${n}[${encodeURIComponent(e)}]`}return encodeURIComponent(e)}function i(e){return encodeURIComponent(e)}return Object.keys(e).forEach(s=>{let a;if(Array.isArray(e[s])){a=[];for(let n=0;n<e[s].length;n+=1)Array.isArray(e[s][n])||"object"!=typeof e[s][n]?a.push(`${r(s)}[]=${i(e[s][n])}`):((o=t.slice()).push(s),o.push(String(n)),a.push(d.serializeObject(e[s][n],o)));a.length>0&&n.push(a.join("&"))}else null===e[s]||""===e[s]?n.push(`${r(s)}=`):"object"==typeof e[s]?((o=t.slice()).push(s),""!==(a=d.serializeObject(e[s],o))&&n.push(a)):void 0!==e[s]&&""!==e[s]?n.push(`${r(s)}=${i(e[s])}`):""===e[s]&&n.push(r(s))}),n.join("&")},isObject:e=>"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object,merge:(...e)=>$.merge(...e),extend(...e){const t=e[0];return e.splice(0,1),$.assign(t,...e)},colorHexToRgb(e){const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,n,o)=>t+t+n+n+o+o),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?n.slice(1).map(e=>parseInt(e,16)):null},colorRgbToHex:(e,t,n)=>`#${[e,t,n].map(e=>{const t=e.toString(16);return 1===t.length?`0${t}`:t}).join("")}`,colorRgbToHsl(e,t,n){e/=255,t/=255,n/=255;const o=Math.max(e,t,n),r=Math.min(e,t,n),i=o-r;let s;0===i?s=0:o===e?s=(t-n)/i%6:o===t?s=(n-e)/i+2:o===n&&(s=(e-t)/i+4);const a=(r+o)/2;return s<0&&(s=6+s),[60*s,0===i?0:i/(1-Math.abs(2*a-1)),a]},colorHslToRgb(e,t,n){const o=(1-Math.abs(2*n-1))*t,r=e/60,i=o*(1-Math.abs(r%2-1));let s;Number.isNaN(e)||void 0===e?s=[0,0,0]:r<=1?s=[o,i,0]:r<=2?s=[i,o,0]:r<=3?s=[0,o,i]:r<=4?s=[0,i,o]:r<=5?s=[i,0,o]:r<=6&&(s=[o,0,i]);const a=n-o/2;return s.map(e=>Math.max(0,Math.min(255,Math.round(255*(e+a)))))},colorHsbToHsl(e,t,n){const o={h:e,s:0,l:0},r=t,i=n;return o.l=(2-r)*i/2,o.s=o.l&&o.l<1?r*i/(o.l<.5?2*o.l:2-2*o.l):o.s,[o.h,o.s,o.l]},colorHslToHsb(e,t,n){const o={h:e,s:0,b:0},r=n,i=t*(r<.5?r:1-r);return o.b=r+i,o.s=r>0?2*i/o.b:o.s,[o.h,o.s,o.b]},colorThemeCSSProperties(...e){let t,n;if(1===e.length?(t=e[0],n=d.colorHexToRgb(t)):3===e.length&&(n=e,t=d.colorRgbToHex(...n)),!n)return{};const o=d.colorRgbToHsl(...n),r=[o[0],o[1],Math.max(0,o[2]-.08)],i=[o[0],o[1],Math.max(0,o[2]+.08)],s=d.colorRgbToHex(...d.colorHslToRgb(...r)),a=d.colorRgbToHex(...d.colorHslToRgb(...i));return{"--f7-theme-color":t,"--f7-theme-color-rgb":n.join(", "),"--f7-theme-color-shade":s,"--f7-theme-color-tint":a}}};class h{constructor(e={},t=[]){const n=this;n.params=e,n.eventsParents=t,n.eventsListeners={},n.params&&n.params.on&&Object.keys(n.params.on).forEach(e=>{n.on(e,n.params.on[e])})}on(e,t,n){const o=this;if("function"!=typeof t)return o;const r=n?"unshift":"push";return e.split(" ").forEach(e=>{o.eventsListeners[e]||(o.eventsListeners[e]=[]),o.eventsListeners[e][r](t)}),o}once(e,t,n){const o=this;if("function"!=typeof t)return o;function r(...n){o.off(e,r),r.proxy&&delete r.proxy,t.apply(o,n)}return r.proxy=t,o.on(e,r,n)}off(e,t){const n=this;return n.eventsListeners?(e.split(" ").forEach(e=>{void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((o,r)=>{(o===t||o.proxy&&o.proxy===t)&&n.eventsListeners[e].splice(r,1)})}),n):n}emit(...e){const t=this;if(!t.eventsListeners)return t;let n,o,r,i;"string"==typeof e[0]||Array.isArray(e[0])?(n=e[0],o=e.slice(1,e.length),r=t,i=t.eventsParents):(n=e[0].events,o=e[0].data,r=e[0].context||t,i=e[0].local?[]:e[0].parents||t.eventsParents);const s=Array.isArray(n)?n:n.split(" "),a=s.map(e=>e.replace("local::","")),l=s.filter(e=>e.indexOf("local::")<0);return a.forEach(e=>{if(t.eventsListeners&&t.eventsListeners[e]){const n=[];t.eventsListeners[e].forEach(e=>{n.push(e)}),n.forEach(e=>{e.apply(r,o)})}}),i&&i.length>0&&i.forEach(e=>{e.emit(l,...o)}),t}}class f extends h{constructor(e={},t=[]){super(e,t)}useModuleParams(e,t){if(e.params){const n={};Object.keys(e.params).forEach(e=>{void 0!==t[e]&&(n[e]=$.extend({},t[e]))}),$.extend(t,e.params),Object.keys(n).forEach(e=>{$.extend(t[e],n[e])})}}useModulesParams(e){const t=this;t.modules&&Object.keys(t.modules).forEach(n=>{const o=t.modules[n];o.params&&$.extend(e,o.params)})}useModule(e="",t={}){const n=this;if(!n.modules)return;const o="string"==typeof e?n.modules[e]:e;o&&(o.instance&&Object.keys(o.instance).forEach(e=>{const t=o.instance[e];n[e]="function"==typeof t?t.bind(n):t}),o.on&&n.on&&Object.keys(o.on).forEach(e=>{n.on(e,o.on[e])}),o.vnode&&(n.vnodeHooks||(n.vnodeHooks={}),Object.keys(o.vnode).forEach(e=>{Object.keys(o.vnode[e]).forEach(t=>{const r=o.vnode[e][t];n.vnodeHooks[t]||(n.vnodeHooks[t]={}),n.vnodeHooks[t][e]||(n.vnodeHooks[t][e]=[]),n.vnodeHooks[t][e].push(r.bind(n))})})),o.create&&o.create.bind(n)(t))}useModules(e={}){const t=this;t.modules&&Object.keys(t.modules).forEach(n=>{const o=e[n]||{};t.useModule(n,o)})}static set components(e){this.use&&this.use(e)}static installModule(e,...t){const n=this;n.prototype.modules||(n.prototype.modules={});const o=e.name||`${Object.keys(n.prototype.modules).length}_${$.now()}`;return n.prototype.modules[o]=e,e.proto&&Object.keys(e.proto).forEach(t=>{n.prototype[t]=e.proto[t]}),e.static&&Object.keys(e.static).forEach(t=>{n[t]=e.static[t]}),e.install&&e.install.apply(n,t),n}static use(e,...t){const n=this;return Array.isArray(e)?(e.forEach(e=>n.installModule(e)),n):n.installModule(e,...t)}}function m(e={}){const{defaultSelector:t,constructor:n,domProp:o,app:r,addMethods:i}=e,s={create:(...e)=>r?new n(r,...e):new n(...e),get(e=t){if(e instanceof n)return e;const r=$(e);return 0!==r.length?r[0][o]:void 0},destroy(e){const t=s.get(e);if(t&&t.destroy)return t.destroy()}};return i&&Array.isArray(i)&&i.forEach(e=>{s[e]=(n=t,...o)=>{const r=s.get(n);if(r&&r[e])return r[e](...o)}}),s}function p(e={}){const{defaultSelector:t,constructor:n,app:o}=e;return $.extend(m({defaultSelector:t,constructor:n,app:o,domProp:"wiaModal"}),{open(e,t){const r=$(e);let i=r[0].wiaModal;return i||(i=new n(o,{el:r})),i.open(t)},close(e=t,r){const i=$(e);if(0===i.length)return;let s=i[0].wiaModal;return s||(s=new n(o,{el:i})),s.close(r)}})}const g=[];function w(e){const t=this;return new Promise((n,o)=>{const r=t.instance;let i,s,a;if(e){if("string"==typeof e){const t=e.match(/([a-z0-9-]*)/i);if(e.indexOf(".")<0&&t&&t[0].length===e.length){if(!r||r&&!r.params.lazyModulesPath)return void o(new Error('Wia: "lazyModulesPath" app parameter must be specified to fetch module by name'));i=`${r.params.lazyModulesPath}/${e}.js`}else i=e}else"function"==typeof e?a=e:s=e;if(a){const e=a(t,!1);if(!e)return void o(new Error("Wia: Can't find Wia component in specified component function"));if(t.prototype.modules&&t.prototype.modules[e.name])return void n();l(e),n()}if(s){const e=s;if(!e)return void o(new Error("Wia: Can't find Wia component in specified component"));if(t.prototype.modules&&t.prototype.modules[e.name])return void n();l(e),n()}if(i){if(g.indexOf(i)>=0)return void n();g.push(i);const e=new Promise((e,n)=>{t.request.get(i,o=>{const r=`wia_component_loader_callback_${$.id()}`,s=document.createElement("script");s.innerHTML=`window.${r} = function (Wia, WiaAutoInstallComponent) {return ${o.trim()}}`,$("head").append(s);const a=window[r];delete window[r],$(s).remove();const c=a(t,!1);c?t.prototype.modules&&t.prototype.modules[c.name]?e():(l(c),e()):n(new Error(`Wia: Can't find Wia component in ${i} file`))},(e,t)=>{n(e,t)})}),s=new Promise(e=>{t.request.get(i.replace(".js",r.rtl?".rtl.css":".css"),t=>{const n=document.createElement("style");n.innerHTML=t,$("head").append(n),e()},()=>{e()})});Promise.all([e,s]).then(()=>{n()}).catch(e=>{o(e)})}}else o(new Error("Wia: Lazy module must be specified"));function l(e){t.use(e),r&&(r.useModuleParams(e,r.params),r.useModule(e))}})}var v={name:"resize",instance:{getSize(){if(!this.root[0])return{width:0,height:0,left:0,top:0};const e=this.root.offset(),[t,n,o,r]=[this.root[0].offsetWidth,this.root[0].offsetHeight,e.left,e.top];return this.width=t,this.height=n,this.left=o,this.top=r,{width:t,height:n,left:o,top:r}}},on:{init(){const e=this;e.getSize(),window.addEventListener("resize",()=>{e.emit("resize")},!1),window.addEventListener("orientationchange",()=>{e.emit("orientationchange")})},orientationchange(){this.device.ipad&&(document.body.scrollLeft=0,setTimeout(()=>{document.body.scrollLeft=0},0))},resize(){this.getSize()}}};const y={registrations:[],register(e,t){const n=this;return"serviceWorker"in window.navigator&&n.serviceWorker.container?new Promise((o,r)=>{n.serviceWorker.container.register(e,t?{scope:t}:{}).then(e=>{y.registrations.push(e),n.emit("serviceWorkerRegisterSuccess",e),o(e)}).catch(e=>{n.emit("serviceWorkerRegisterError",e),r(e)})}):new Promise((e,t)=>{t(new Error("Service worker is not supported"))})},unregister(e){const t=this;if(!("serviceWorker"in window.navigator&&t.serviceWorker.container))return new Promise((e,t)=>{t(new Error("Service worker is not supported"))});let n;return n=e?Array.isArray(e)?e:[e]:y.registrations,Promise.all(n.map(e=>new Promise((n,o)=>{e.unregister().then(()=>{y.registrations.indexOf(e)>=0&&y.registrations.splice(y.registrations.indexOf(e),1),t.emit("serviceWorkerUnregisterSuccess",e),n()}).catch(n=>{t.emit("serviceWorkerUnregisterError",e,n),o(n)})})))}};var b={name:"sw",params:{serviceWorker:{path:void 0,scope:void 0}},create(){$.extend(this,{serviceWorker:{container:"serviceWorker"in window.navigator?window.navigator.serviceWorker:void 0,registrations:y.registrations,register:y.register.bind(this),unregister:y.unregister.bind(this)}})},on:{init(){if(!("serviceWorker"in window.navigator))return;const e=this;if(!e.serviceWorker.container)return;const t=e.params.serviceWorker.path,n=e.params.serviceWorker.scope;!t||Array.isArray(t)&&!t.length||(Array.isArray(t)?t:[t]).forEach(t=>{e.serviceWorker.register(t,n)})}}};$.support=l,$.device=c;class x extends f{constructor(e){if(super(e),x.instance)throw new Error("App is already initialized and can't be initialized more than once");const t=$.extend({},e),n=this;x.instance=n,$.app=n,$.App=x;const o={version:"1.0.0",id:"pub.wia.testapp",root:"body",theme:"auto",language:window.navigator.language,routes:[],name:"wia",lazyModulesPath:null,initOnDeviceReady:!0,init:!0,autoDarkTheme:!1,iosTranslucentBars:!0,iosTranslucentModals:!0,component:void 0,componentUrl:void 0};n.useModulesParams(o),n.params=$.extend(o,e);const r=$(n.params.root);$.extend(n,{id:n.params.id,name:n.params.name,version:n.params.version,routes:n.params.routes,language:n.params.language,root:r,cfg:n.params.cfg,rtl:"rtl"===r.css("direction"),theme:"auto"===n.params.theme?c.ios?"ios":c.desktop&&c.electron?"aurora":"md":n.params.theme,passedParams:t,online:window.navigator.onLine}),n.root&&n.root[0]&&(n.root[0].wia=n),n.useModules(),n.initData();const i="(prefers-color-scheme: dark)",s="(prefers-color-scheme: light)";function a(){c.cordova&&n.params.initOnDeviceReady?$(document).on("deviceready",()=>{n.init()}):n.init()}return n.mq={},window.matchMedia&&(n.mq.dark=window.matchMedia(i),n.mq.light=window.matchMedia(s)),n.colorSchemeListener=function({matches:e,media:t}){if(!e)return;const n=document.querySelector("html");t===i?n.classList.add("theme-dark"):t===s&&n.classList.remove("theme-dark")},n.params.component||n.params.componentUrl?n.router.componentLoader(n.params.component,n.params.componentUrl,{componentOptions:{el:n.root[0]}},e=>{n.root=$(e),n.root[0].f7=n,n.rootComponent=e.f7Component,n.params.init&&a()}):n.params.init&&a(),n}initData(){const e=this;e.data={},e.params.data&&"function"==typeof e.params.data?$.extend(e.data,e.params.data.bind(e)()):e.params.data&&$.extend(e.data,e.params.data),e.methods={},e.params.methods&&Object.keys(e.params.methods).forEach(t=>{"function"==typeof e.params.methods[t]?e.methods[t]=e.params.methods[t].bind(e):e.methods[t]=e.params.methods[t]})}enableAutoDarkTheme(){if(!window.matchMedia)return;const e=this,t=document.querySelector("html");e.mq.dark&&e.mq.light&&(e.mq.dark.addListener(e.colorSchemeListener),e.mq.light.addListener(e.colorSchemeListener)),e.mq.dark&&e.mq.dark.matches?t.classList.add("theme-dark"):e.mq.light&&e.mq.light.matches&&t.classList.remove("theme-dark")}disableAutoDarkTheme(){window.matchMedia&&(this.mq.dark&&this.mq.dark.removeListener(this.colorSchemeListener),this.mq.light&&this.mq.light.removeListener(this.colorSchemeListener))}init(){const e=this;return e.initialized?e:(e.root.addClass("framework7-initializing"),e.rtl&&$("html").attr("dir","rtl"),e.params.autoDarkTheme&&e.enableAutoDarkTheme(),window.addEventListener("offline",()=>{e.online=!1,e.emit("offline"),e.emit("connection",!1)}),window.addEventListener("online",()=>{e.online=!0,e.emit("online"),e.emit("connection",!0)}),e.root.addClass("framework7-root"),$("html").removeClass("ios md aurora").addClass(e.theme),e.params.iosTranslucentBars&&"ios"===e.theme&&c.ios&&$("html").addClass("ios-translucent-bars"),e.params.iosTranslucentModals&&"ios"===e.theme&&c.ios&&$("html").addClass("ios-translucent-modals"),$.nextFrame(()=>{e.root.removeClass("framework7-initializing")}),function(){const e=[],t=document.querySelector("html"),n=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');t&&(c.standalone&&c.ios&&n&&"black-translucent"===n.content&&e.push("device-full-viewport"),e.push(`device-pixel-ratio-${Math.floor(c.pixelRatio)}`),c.os&&!c.desktop?e.push(`device-${c.os}`):c.desktop&&(e.push("device-desktop"),c.os&&e.push(`device-${c.os}`)),(c.cordova||c.phonegap)&&e.push("device-cordova"),e.forEach(e=>{t.classList.add(e)}))}(),e.initialized=!0,e.emit("init"),e)}loadModule(e){x.loadModule(e),this[e.name].init&&this[e.name].init()}loadModules(...e){return x.loadModules(...e)}getVnodeHooks(e,t){return this.vnodeHooks&&this.vnodeHooks[e]&&this.vnodeHooks[e][t]||[]}get $(){return $}static get Dom(){return $}static get $(){return $}static get Module(){return f}static get Event(){return h}}x.ModalMethods=p,x.ConstructorMethods=m,x.loadModule=w,x.loadModules=function(e){return Promise.all(e.map(e=>x.loadModule(e)))},x.support=l,x.device=c,x.utils=d,x.use([v,b]);const E={normal:"nor",retina:"ret",srcset:"set",threshold:0};let k,L,M,S,T=window.innerHeight,A=P();const O=document.body.classList.contains("srcset")||"srcset"in document.createElement("img"),C=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI;function P(){return window.scrollY||window.pageYOffset}function j(){A=P(),L||(window.requestAnimationFrame(()=>q()),L=!0)}function W(e){const t=A,n=t+T,o=function(e){return e.getBoundingClientRect().top+A}(e),r=o+e.offsetHeight,i=k.threshold/100*T;return r>=t-i&&o<=n+i}function q(){if(M)return T=window.innerHeight,M.forEach(e=>W(e)&&function(e){if($.emit("lazy:src:before",e),O&&e.hasAttribute(k.srcset))e.setAttribute("srcset",e.getAttribute(k.srcset));else{const t=C>1&&e.getAttribute(k.retina)||e.getAttribute(k.normal);e.setAttribute("src",t),console.log(`set src:${t}`)}$.emit("lazy:src:after",e),[k.normal,k.retina,k.srcset].forEach(t=>e.removeAttribute(t)),H()}(e)),L=!1,this}function H(e){return M=e?Array.prototype.slice.call(e.querySelectorAll(`[${k.normal}]`)):Array.prototype.slice.call(document.querySelectorAll(`[${k.normal}]`)),this}e.Ajax=class{post(e,t){return new Promise((n,o)=>{const r=$.getXhr();r.onreadystatechange=()=>{4===r.readyState&&(200===r.status?n(r.responseText):o(new Error(r.statusText),r.responseText))},r.open("POST",e,!0);let i=t;"object"==typeof t&&(i=function(e){let t="";const n=[];for(const t in e)e.hasOwnProperty(t)&&n.push(`${t}=${e[t]}`);return t=n.sort().join("&")}(t)),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(i)})}postForm(e,t){return new Promise((n,o)=>{const r=$.getXhr();r.onreadystatechange=()=>{4===r.readyState&&(200===r.status?n(null,r.responseText):o(new Error(r.status),r.responseText))},r.open("POST",e,!0),r.send(t)})}get(e,t){return $.get(e,t)}},e.App=x,e.Constructors=m,e.Device=c,e.Event=h,e.Lazy=class{constructor(e){k=$.assign({},E,e)}start(e){return["scroll","resize"].forEach(t=>e.addEventListener(t,j)),S=e,this}stop(){return["scroll","resize"].forEach(e=>S.removeEventListener(e,j)),this}update(){setTimeout(()=>{H(),q()},1)}},e.Modals=p,e.Module=f,e.Page=class{constructor(e,t,n,o){this.app=e,this.cfg=e.cfg,this.name=t,this.title=n,this.style=o||`./page/${t}.css`,this.path=`${t}`,this.view=null,this.html="",this.css="",this.js="",this.data={},this.param={}}load(e){this.param=e}ready(e,t,n){$.assign(this,{view:e,param:t,back:n})}show(e,t,n){$.assign(this,{view:e,param:t,back:n})}},e.Resize=v,e.SW=b,e.Support=l,e.Utils=d,e.loadModule=w,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).WiaCore={});