/*!
  * wia core v0.1.7
  * (c) 2020 Sibyl Yu
  * @license MIT
  */
var e,t;e=this,t=function(e){"use strict";var t=function(){function e(){}var t=e.prototype;return t.post=function(e,t){return new Promise((function(n,r){var o=$.getXhr();o.onreadystatechange=function(){4===o.readyState&&(200===o.status?n(o.responseText):r(new Error(o.statusText),o.responseText))},o.open("POST",e,!0);var i=t;"object"==typeof t&&(i=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+e[n]);return t.sort().join("&")}(t)),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(i)}))},t.postForm=function(e,t){return new Promise((function(n,r){var o=$.getXhr();o.onreadystatechange=function(){4===o.readyState&&(200===o.status?n(null,o.responseText):r(new Error(o.status),o.responseText))},o.open("POST",e,!0),o.send(t)}))},t.get=function(e,t){return $.get(e,t)},e}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e,t,n){return(s=a()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o}).apply(null,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u,d,l,p,f,m,h,v,w,g,y,b,k,x,M,E={touch:!!(window.navigator.maxTouchPoints>0||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),pointerEvents:!!window.PointerEvent,observer:"MutationObserver"in window||"WebkitMutationObserver"in window,passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:"ongesturestart"in window,intersectionObserver:"IntersectionObserver"in window},A=(u=window.navigator.platform,d=window.navigator.userAgent,l={ios:!1,android:!1,androidChrome:!1,desktop:!1,iphone:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!(!window.cordova&&!window.phonegap),phonegap:!(!window.cordova&&!window.phonegap),electron:!1},p=window.screen.width,f=window.screen.height,m=d.match(/(Android);?[\s\/]+([\d.]+)?/),h=d.match(/(iPad).*OS\s([\d_]+)/),v=d.match(/(iPod)(.*OS\s([\d_]+))?/),w=!h&&d.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=d.indexOf("MSIE ")>=0||d.indexOf("Trident/")>=0,y=d.indexOf("Edge/")>=0,b=d.indexOf("Gecko/")>=0&&d.indexOf("Firefox/")>=0,k="Win32"===u,x=d.toLowerCase().indexOf("electron")>=0,M="MacIntel"===u,!h&&M&&E.touch&&(1024===p&&1366===f||834===p&&1194===f||834===p&&1112===f||768===p&&1024===f)&&(h=d.match(/(Version)\/([\d.]+)/),M=!1),l.ie=g,l.edge=y,l.firefox=b,m&&!k&&(l.os="android",l.osVersion=m[2],l.android=!0,l.androidChrome=d.toLowerCase().indexOf("chrome")>=0),(h||w||v)&&(l.os="ios",l.ios=!0),w&&!v&&(l.osVersion=w[2].replace(/_/g,"."),l.iphone=!0),h&&(l.osVersion=h[2].replace(/_/g,"."),l.ipad=!0),v&&(l.osVersion=v[3]?v[3].replace(/_/g,"."):null,l.ipod=!0),l.ios&&l.osVersion&&d.indexOf("Version/")>=0&&"10"===l.osVersion.split(".")[0]&&(l.osVersion=d.toLowerCase().split("version/")[1].split(" ")[0]),l.webView=!(!(w||h||v)||!d.match(/.*AppleWebKit(?!.*Safari)/i)&&!window.navigator.standalone)||window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,l.webview=l.webView,l.standalone=l.webView,l.desktop=!(l.ios||l.android)||x,l.desktop&&(l.electron=x,l.macos=M,l.windows=k,l.macos&&(l.os="macos"),l.windows&&(l.os="windows")),l.pixelRatio=window.devicePixelRatio||1,l.prefersColorScheme=function(){var e;return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&(e="light"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(e="dark"),e},l.wechat=/MicroMessenger/i.test(d),l.weixin=l.wechat,l),O=1,P={uniqueNumber:function(){return O+=1},id:function(e,t){return void 0===e&&(e="xxxxxxxxxx"),void 0===t&&(t="0123456789abcdef"),$.uid(e,t)},mdPreloaderContent:'\n    <span class="preloader-inner">\n      <span class="preloader-inner-gap"></span>\n      <span class="preloader-inner-left">\n          <span class="preloader-inner-half-circle"></span>\n      </span>\n      <span class="preloader-inner-right">\n          <span class="preloader-inner-half-circle"></span>\n      </span>\n    </span>\n  '.trim(),iosPreloaderContent:('\n    <span class="preloader-inner">\n      '+[0,1,2,3,4,5,6,7,8,9,10,11].map((function(){return'<span class="preloader-inner-line"></span>'})).join("")+"\n    </span>\n  ").trim(),auroraPreloaderContent:'\n    <span class="preloader-inner">\n      <span class="preloader-inner-circle"></span>\n    </span>\n  ',eventNameToColonCase:function(e){var t;return e.split("").map((function(e,n){return e.match(/[A-Z]/)&&0!==n&&!t?(t=!0,":"+e.toLowerCase()):e.toLowerCase()})).join("")},deleteProps:function(e){$.deleteProps(e)},nextTick:function(e,t){return void 0===t&&(t=0),setTimeout(e,t)},nextFrame:function(e){return $.nextFrame(e)},now:function(){return Date.now()},requestAnimationFrame:function(e){return $.requestAnimationFrame(e)},cancelAnimationFrame:function(e){return $.cancelAnimationFrame(e)},parseUrlQuery:function(e){return $.urlParam(e)},getTranslate:function(e,t){return void 0===t&&(t="x"),$.getTranslate(e,t)},serializeObject:function(e,t){if(void 0===t&&(t=[]),"string"==typeof e)return e;var n,r=[];function o(e){if(t.length>0){for(var n="",r=0;r<t.length;r+=1)n+=0===r?t[r]:"["+encodeURIComponent(t[r])+"]";return n+"["+encodeURIComponent(e)+"]"}return encodeURIComponent(e)}function i(e){return encodeURIComponent(e)}return Object.keys(e).forEach((function(a){var s;if(Array.isArray(e[a])){s=[];for(var c=0;c<e[a].length;c+=1)Array.isArray(e[a][c])||"object"!=typeof e[a][c]?s.push(o(a)+"[]="+i(e[a][c])):((n=t.slice()).push(a),n.push(String(c)),s.push(P.serializeObject(e[a][c],n)));s.length>0&&r.push(s.join("&"))}else null===e[a]||""===e[a]?r.push(o(a)+"="):"object"==typeof e[a]?((n=t.slice()).push(a),""!==(s=P.serializeObject(e[a],n))&&r.push(s)):void 0!==e[a]&&""!==e[a]?r.push(o(a)+"="+i(e[a])):""===e[a]&&r.push(o(a))})),r.join("&")},isObject:function(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object},merge:function(){var e;return(e=$).merge.apply(e,arguments)},extend:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];return n.splice(0,1),(e=$).assign.apply(e,[o].concat(n))},colorHexToRgb:function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?n.slice(1).map((function(e){return parseInt(e,16)})):null},colorRgbToHex:function(e,t,n){return"#"+[e,t,n].map((function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})).join("")},colorRgbToHsl:function(e,t,n){e/=255,t/=255,n/=255;var r,o=Math.max(e,t,n),i=Math.min(e,t,n),a=o-i;0===a?r=0:o===e?r=(t-n)/a%6:o===t?r=(n-e)/a+2:o===n&&(r=(e-t)/a+4);var s=(i+o)/2;return r<0&&(r=6+r),[60*r,0===a?0:a/(1-Math.abs(2*s-1)),s]},colorHslToRgb:function(e,t,n){var r,o=(1-Math.abs(2*n-1))*t,i=e/60,a=o*(1-Math.abs(i%2-1));Number.isNaN(e)||void 0===e?r=[0,0,0]:i<=1?r=[o,a,0]:i<=2?r=[a,o,0]:i<=3?r=[0,o,a]:i<=4?r=[0,a,o]:i<=5?r=[a,0,o]:i<=6&&(r=[o,0,a]);var s=n-o/2;return r.map((function(e){return Math.max(0,Math.min(255,Math.round(255*(e+s))))}))},colorHsbToHsl:function(e,t,n){var r={h:e,s:0,l:0},o=t,i=n;return r.l=(2-o)*i/2,r.s=r.l&&r.l<1?o*i/(r.l<.5?2*r.l:2-2*r.l):r.s,[r.h,r.s,r.l]},colorHslToHsb:function(e,t,n){var r={h:e,s:0,b:0},o=n,i=t*(o<.5?o:1-o);return r.b=o+i,r.s=o>0?2*i/r.b:r.s,[r.h,r.s,r.b]},colorThemeCSSProperties:function(){for(var e,t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(1===r.length?(e=r[0],t=P.colorHexToRgb(e)):3===r.length&&(t=r,e=P.colorRgbToHex.apply(P,t)),!t)return{};var i=P.colorRgbToHsl.apply(P,t),a=[i[0],i[1],Math.max(0,i[2]-.08)],s=[i[0],i[1],Math.max(0,i[2]+.08)],c=P.colorRgbToHex.apply(P,P.colorHslToRgb.apply(P,a)),u=P.colorRgbToHex.apply(P,P.colorHslToRgb.apply(P,s));return{"--f7-theme-color":e,"--f7-theme-color-rgb":t.join(", "),"--f7-theme-color-shade":c,"--f7-theme-color-tint":u}}},L=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=[]);var n=this;n.params=e,n.eventsParents=t,n.eventsListeners={},n.params&&n.params.on&&Object.keys(n.params.on).forEach((function(e){n.on(e,n.params.on[e])}))}var t=e.prototype;return t.on=function(e,t,n){var r=this;if("function"!=typeof t)return r;var o=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][o](t)})),r},t.once=function(e,t,n){var r=this;if("function"!=typeof t)return r;function o(){r.off(e,o),o.proxy&&delete o.proxy;for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];t.apply(r,i)}return o.proxy=t,r.on(e,o,n)},t.off=function(e,t){var n=this;return n.eventsListeners?(e.split(" ").forEach((function(e){void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,o){(r===t||r.proxy&&r.proxy===t)&&n.eventsListeners[e].splice(o,1)}))})),n):n},t.emit=function(){var e,t,n,r,o=this;if(!o.eventsListeners)return o;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];"string"==typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),n=o,r=o.eventsParents):(e=a[0].events,t=a[0].data,n=a[0].context||o,r=a[0].local?[]:a[0].parents||o.eventsParents);var c=Array.isArray(e)?e:e.split(" "),u=c.map((function(e){return e.replace("local::","")})),d=c.filter((function(e){return e.indexOf("local::")<0}));return u.forEach((function(e){if(o.eventsListeners&&o.eventsListeners[e]){var r=[];o.eventsListeners[e].forEach((function(e){r.push(e)})),r.forEach((function(e){e.apply(n,t)}))}})),r&&r.length>0&&r.forEach((function(e){e.emit.apply(e,[d].concat(t))})),o},e}(),T=function(e){function t(t,n){return void 0===t&&(t={}),void 0===n&&(n=[]),e.call(this,t,n)||this}o(t,e);var n=t.prototype;return n.useModuleParams=function(e,t){if(e.params){var n={};Object.keys(e.params).forEach((function(e){void 0!==t[e]&&(n[e]=$.extend({},t[e]))})),$.extend(t,e.params),Object.keys(n).forEach((function(e){$.extend(t[e],n[e])}))}},n.useModulesParams=function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var r=t.modules[n];r.params&&$.extend(e,r.params)}))},n.useModule=function(e,t){void 0===e&&(e=""),void 0===t&&(t={});var n=this;if(n.modules){var r="string"==typeof e?n.modules[e]:e;r&&(r.instance&&Object.keys(r.instance).forEach((function(e){var t=r.instance[e];n[e]="function"==typeof t?t.bind(n):t})),r.on&&n.on&&Object.keys(r.on).forEach((function(e){n.on(e,r.on[e])})),r.vnode&&(n.vnodeHooks||(n.vnodeHooks={}),Object.keys(r.vnode).forEach((function(e){Object.keys(r.vnode[e]).forEach((function(t){var o=r.vnode[e][t];n.vnodeHooks[t]||(n.vnodeHooks[t]={}),n.vnodeHooks[t][e]||(n.vnodeHooks[t][e]=[]),n.vnodeHooks[t][e].push(o.bind(n))}))}))),r.create&&r.create.bind(n)(t))}},n.useModules=function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var r=e[n]||{};t.useModule(n,r)}))},t.installModule=function(e){var t=this;t.prototype.modules||(t.prototype.modules={});var n=e.name||Object.keys(t.prototype.modules).length+"_"+$.now();if(t.prototype.modules[n]=e,e.proto&&Object.keys(e.proto).forEach((function(n){t.prototype[n]=e.proto[n]})),e.static&&Object.keys(e.static).forEach((function(n){t[n]=e.static[n]})),e.install){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];e.install.apply(t,o)}return t},t.use=function(e){var t=this;if(Array.isArray(e))return e.forEach((function(e){return t.installModule(e)})),t;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.installModule.apply(t,[e].concat(r))},r(t,null,[{key:"components",set:function(e){this.use&&this.use(e)}}]),t}(L);function j(e){void 0===e&&(e={});var t=e,n=t.defaultSelector,r=t.constructor,o=t.domProp,i=t.app,a=t.addMethods,c={create:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(r,i?[i].concat(t):t)},get:function(e){if(void 0===e&&(e=n),e instanceof r)return e;var t=$(e);return 0!==t.length?t[0][o]:void 0},destroy:function(e){var t=c.get(e);if(t&&t.destroy)return t.destroy()}};return a&&Array.isArray(a)&&a.forEach((function(e){c[e]=function(t){void 0===t&&(t=n);for(var r=c.get(t),o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(r&&r[e])return r[e].apply(r,i)}})),c}function S(e){void 0===e&&(e={});var t=e,n=t.defaultSelector,r=t.constructor,o=t.app;return $.extend(j({defaultSelector:n,constructor:r,app:o,domProp:"wiaModal"}),{open:function(e,t){var n=$(e),i=n[0].wiaModal;return i||(i=new r(o,{el:n})),i.open(t)},close:function(e,t){void 0===e&&(e=n);var i=$(e);if(0!==i.length){var a=i[0].wiaModal;return a||(a=new r(o,{el:i})),a.close(t)}}})}var C=[];function H(e){var t=this;return new Promise((function(n,r){var o,i,a,s=t.instance;if(e){if("string"==typeof e){var c=e.match(/([a-z0-9-]*)/i);if(e.indexOf(".")<0&&c&&c[0].length===e.length){if(!s||s&&!s.params.lazyModulesPath)return void r(new Error('Wia: "lazyModulesPath" app parameter must be specified to fetch module by name'));o=s.params.lazyModulesPath+"/"+e+".js"}else o=e}else"function"==typeof e?a=e:i=e;if(a){var u=a(t,!1);if(!u)return void r(new Error("Wia: Can't find Wia component in specified component function"));if(t.prototype.modules&&t.prototype.modules[u.name])return void n();f(u),n()}if(i){var d=i;if(!d)return void r(new Error("Wia: Can't find Wia component in specified component"));if(t.prototype.modules&&t.prototype.modules[d.name])return void n();f(d),n()}if(o){if(C.indexOf(o)>=0)return void n();C.push(o);var l=new Promise((function(e,n){t.request.get(o,(function(r){var i="wia_component_loader_callback_"+$.id(),a=document.createElement("script");a.innerHTML="window."+i+" = function (Wia, WiaAutoInstallComponent) {return "+r.trim()+"}",$("head").append(a);var s=window[i];delete window[i],$(a).remove();var c=s(t,!1);c?(t.prototype.modules&&t.prototype.modules[c.name]||f(c),e()):n(new Error("Wia: Can't find Wia component in "+o+" file"))}),(function(e,t){n(e,t)}))})),p=new Promise((function(e){t.request.get(o.replace(".js",s.rtl?".rtl.css":".css"),(function(t){var n=document.createElement("style");n.innerHTML=t,$("head").append(n),e()}),(function(){e()}))}));Promise.all([l,p]).then((function(){n()})).catch((function(e){r(e)}))}}else r(new Error("Wia: Lazy module must be specified"));function f(e){t.use(e),s&&(s.useModuleParams(e,s.params),s.useModule(e))}}))}var W={name:"resize",instance:{getSize:function(){if(!this.root[0])return{width:0,height:0,left:0,top:0};var e=this.root.offset(),t=[this.root[0].offsetWidth,this.root[0].offsetHeight,e.left,e.top],n=t[0],r=t[1],o=t[2],i=t[3];return this.width=n,this.height=r,this.left=o,this.top=i,{width:n,height:r,left:o,top:i}}},on:{init:function(){var e=this;e.getSize(),window.addEventListener("resize",(function(){e.emit("resize")}),!1),window.addEventListener("orientationchange",(function(){e.emit("orientationchange")}))},orientationchange:function(){this.device.ipad&&(document.body.scrollLeft=0,setTimeout((function(){document.body.scrollLeft=0}),0))},resize:function(){this.getSize()}}},R={registrations:[],register:function(e,t){var n=this;return"serviceWorker"in window.navigator&&n.serviceWorker.container?new Promise((function(r,o){n.serviceWorker.container.register(e,t?{scope:t}:{}).then((function(e){R.registrations.push(e),n.emit("serviceWorkerRegisterSuccess",e),r(e)})).catch((function(e){n.emit("serviceWorkerRegisterError",e),o(e)}))})):new Promise((function(e,t){t(new Error("Service worker is not supported"))}))},unregister:function(e){var t,n=this;return"serviceWorker"in window.navigator&&n.serviceWorker.container?(t=e?Array.isArray(e)?e:[e]:R.registrations,Promise.all(t.map((function(e){return new Promise((function(t,r){e.unregister().then((function(){R.registrations.indexOf(e)>=0&&R.registrations.splice(R.registrations.indexOf(e),1),n.emit("serviceWorkerUnregisterSuccess",e),t()})).catch((function(t){n.emit("serviceWorkerUnregisterError",e,t),r(t)}))}))})))):new Promise((function(e,t){t(new Error("Service worker is not supported"))}))}},q={name:"sw",params:{serviceWorker:{path:void 0,scope:void 0}},create:function(){$.extend(this,{serviceWorker:{container:"serviceWorker"in window.navigator?window.navigator.serviceWorker:void 0,registrations:R.registrations,register:R.register.bind(this),unregister:R.unregister.bind(this)}})},on:{init:function(){if("serviceWorker"in window.navigator){var e=this;if(e.serviceWorker.container){var t=e.params.serviceWorker.path,n=e.params.serviceWorker.scope;!t||Array.isArray(t)&&!t.length||(Array.isArray(t)?t:[t]).forEach((function(t){e.serviceWorker.register(t,n)}))}}}}};$.support=E,$.device=A;var z=function(e){function t(n){var r;if(r=e.call(this,n)||this,t.instance)throw new Error("App is already initialized and can't be initialized more than once");var o=$.extend({},n),i=c(r);t.instance=i,$.app=i,$.App=t;var a={version:"1.0.0",id:"pub.wia.testapp",root:"body",theme:"auto",language:window.navigator.language,routes:[],name:"wia",lazyModulesPath:null,initOnDeviceReady:!0,init:!0,autoDarkTheme:!1,iosTranslucentBars:!0,iosTranslucentModals:!0,component:void 0,componentUrl:void 0};i.useModulesParams(a),i.params=$.extend(a,n);var s=$(i.params.root);$.extend(i,{id:i.params.id,name:i.params.name,version:i.params.version,routes:i.params.routes,language:i.params.language,root:s,cfg:i.params.cfg,api:i.params.api,rtl:"rtl"===s.css("direction"),theme:"auto"===i.params.theme?A.ios?"ios":A.desktop&&A.electron?"aurora":"md":i.params.theme,passedParams:o,online:window.navigator.onLine}),i.root&&i.root[0]&&(i.root[0].wia=i),i.touchEvents={start:E.touch?"touchstart":E.pointerEvents?"pointerdown":"mousedown",move:E.touch?"touchmove":E.pointerEvents?"pointermove":"mousemove",end:E.touch?"touchend":E.pointerEvents?"pointerup":"mouseup"},i.useModules(),i.initData();var u="(prefers-color-scheme: dark)",d="(prefers-color-scheme: light)";function l(){A.cordova&&i.params.initOnDeviceReady?$(document).on("deviceready",(function(){i.init()})):i.init()}return i.mq={},window.matchMedia&&(i.mq.dark=window.matchMedia(u),i.mq.light=window.matchMedia(d)),i.colorSchemeListener=function(e){var t=e.matches,n=e.media;if(t){var r=document.querySelector("html");n===u?r.classList.add("theme-dark"):n===d&&r.classList.remove("theme-dark")}},i.params.component||i.params.componentUrl?i.router.componentLoader(i.params.component,i.params.componentUrl,{componentOptions:{el:i.root[0]}},(function(e){i.root=$(e),i.root[0].f7=i,i.rootComponent=e.f7Component,i.params.init&&l()})):i.params.init&&l(),i||c(r)}o(t,e);var n=t.prototype;return n.initData=function(){var e=this;e.data={},e.params.data&&"function"==typeof e.params.data?$.extend(e.data,e.params.data.bind(e)()):e.params.data&&$.extend(e.data,e.params.data),e.methods={},e.params.methods&&Object.keys(e.params.methods).forEach((function(t){"function"==typeof e.params.methods[t]?e.methods[t]=e.params.methods[t].bind(e):e.methods[t]=e.params.methods[t]}))},n.enableAutoDarkTheme=function(){if(window.matchMedia){var e=this,t=document.querySelector("html");e.mq.dark&&e.mq.light&&(e.mq.dark.addListener(e.colorSchemeListener),e.mq.light.addListener(e.colorSchemeListener)),e.mq.dark&&e.mq.dark.matches?t.classList.add("theme-dark"):e.mq.light&&e.mq.light.matches&&t.classList.remove("theme-dark")}},n.disableAutoDarkTheme=function(){window.matchMedia&&(this.mq.dark&&this.mq.dark.removeListener(this.colorSchemeListener),this.mq.light&&this.mq.light.removeListener(this.colorSchemeListener))},n.init=function(){var e,t,n,r=this;return r.initialized||(r.root.addClass("framework7-initializing"),r.rtl&&$("html").attr("dir","rtl"),r.params.autoDarkTheme&&r.enableAutoDarkTheme(),window.addEventListener("offline",(function(){r.online=!1,r.emit("offline"),r.emit("connection",!1)})),window.addEventListener("online",(function(){r.online=!0,r.emit("online"),r.emit("connection",!0)})),r.root.addClass("framework7-root"),$("html").removeClass("ios md aurora").addClass(r.theme),r.params.iosTranslucentBars&&"ios"===r.theme&&A.ios&&$("html").addClass("ios-translucent-bars"),r.params.iosTranslucentModals&&"ios"===r.theme&&A.ios&&$("html").addClass("ios-translucent-modals"),$.nextFrame((function(){r.root.removeClass("framework7-initializing")})),e=[],t=document.querySelector("html"),n=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]'),t&&(A.standalone&&A.ios&&n&&"black-translucent"===n.content&&e.push("device-full-viewport"),e.push("device-pixel-ratio-"+Math.floor(A.pixelRatio)),A.os&&!A.desktop?e.push("device-"+A.os):A.desktop&&(e.push("device-desktop"),A.os&&e.push("device-"+A.os)),(A.cordova||A.phonegap)&&e.push("device-cordova"),e.forEach((function(e){t.classList.add(e)}))),r.initialized=!0,r.emit("init")),r},n.loadModule=function(e){t.loadModule(e),this[e.name].init&&this[e.name].init()},n.loadModules=function(){return t.loadModules.apply(t,arguments)},n.getVnodeHooks=function(e,t){return this.vnodeHooks&&this.vnodeHooks[e]&&this.vnodeHooks[e][t]||[]},r(t,[{key:"$",get:function(){return $}}],[{key:"Dom",get:function(){return $}},{key:"$",get:function(){return $}},{key:"Module",get:function(){return T}},{key:"Event",get:function(){return L}}]),t}(T);z.ModalMethods=S,z.ConstructorMethods=j,z.loadModule=H,z.loadModules=function(e){return Promise.all(e.map((function(e){return z.loadModule(e)})))},z.support=E,z.device=A,z.utils=P,z.use([W,q]);var _,D,V,F,I={normal:"nor",retina:"ret",srcset:"set",threshold:0},U=window.innerHeight,N=G(),X=document.body.classList.contains("srcset")||"srcset"in document.createElement("img"),B=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,Y=function(){function e(e){_=$.assign({},I,e)}var t=e.prototype;return t.start=function(e){return["scroll","resize"].forEach((function(t){return e.addEventListener(t,K)})),F=e,this},t.stop=function(){return["scroll","resize"].forEach((function(e){return F.removeEventListener(e,K)})),this},t.update=function(){setTimeout((function(){J(),Z()}),1)},e}();function G(){return window.scrollY||window.pageYOffset}function K(){N=G(),D||(window.requestAnimationFrame((function(){return Z()})),D=!0)}function Q(e){var t=N,n=t+U,r=function(e){return e.getBoundingClientRect().top+N}(e),o=r+e.offsetHeight,i=_.threshold/100*U;return o>=t-i&&r<=n+i}function Z(){if(V)return U=window.innerHeight,V.forEach((function(e){return Q(e)&&function(e){if($.emit("lazy:src:before",e),X&&e.hasAttribute(_.srcset))e.setAttribute("srcset",e.getAttribute(_.srcset));else{var t=B>1&&e.getAttribute(_.retina)||e.getAttribute(_.normal);e.setAttribute("src",t),console.log("set src:"+t)}$.emit("lazy:src:after",e),[_.normal,_.retina,_.srcset].forEach((function(t){return e.removeAttribute(t)})),J()}(e)})),D=!1,this}function J(e){return V=e?Array.prototype.slice.call(e.querySelectorAll("["+_.normal+"]")):Array.prototype.slice.call(document.querySelectorAll("["+_.normal+"]")),this}var ee=function(){function e(e,t,n,r){this.app=e,this.cfg=e.cfg,this.name=t,this.title=n,this.style=r||"./page/"+t+".css",this.path=""+t,this.view=null,this.html="",this.css="",this.js="",this.data={},this.param={}}var t=e.prototype;return t.load=function(e){this.param=e},t.ready=function(e,t,n){$.assign(this,{view:e,param:t,back:n})},t.show=function(e,t,n){$.assign(this,{view:e,param:t,back:n})},e}();e.Ajax=t,e.App=z,e.Constructors=j,e.Device=A,e.Event=L,e.Lazy=Y,e.Modals=S,e.Module=T,e.Page=ee,e.Resize=W,e.SW=q,e.Support=E,e.Utils=P,e.loadModule=H,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self)["@wiajs/Core"]={});