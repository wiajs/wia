/*!
  * wia base v0.1.2
  * (c) 2020 Sibyl Yu
  * @license MIT
  */
var e=[],t={},n=e.filter,r=e.slice,o=t.toString,i=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,a=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,c=/^\s*<(\w+|!)[^>]*>/,u=1;document.ready=function(e){if("complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll)setTimeout((function(){e(d)}),0);else{var t=function t(){document.removeEventListener("DOMContentLoaded",t,!1),window.removeEventListener("load",t,!1),e(d)};document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)}};var l=function(){function t(e,t){for(var n=e?e.length:0,r=0;r<n;r++)this[r]=e[r];this.dom=e?e[0]:null,this.length=n,this.selector=t||""}t.isD=function(e){return e instanceof t};var n=t.prototype;return n.addClass=function(e){if(void 0===e)return this;for(var t=e.split(" "),n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)void 0!==this[r]&&void 0!==this[r].classList&&this[r].classList.add(t[n]);return this},n.removeClass=function(e){for(var t=e.split(" "),n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)void 0!==this[r]&&void 0!==this[r].classList&&this[r].classList.remove(t[n]);return this},n.hasClass=function(t){return e.some.call(this,(function(e){return e.classList.contains(t)}))},n.toggleClass=function(e){for(var t=e.split(" "),n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)void 0!==this[r]&&void 0!==this[r].classList&&this[r].classList.toggle(t[n]);return this},t}();function s(e){var t=!!e&&"length"in e&&e.length,n=d.type(e);return"function"!=n&&!d.isWindow(e)&&("array"==n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function f(e,t,n){var o;if(i.test(e)&&(o=d(document.createElement(RegExp.$1))),!o){e.replace&&(e=e.replace(a,"<$1></$2>")),void 0===t&&(t=c.test(e)&&RegExp.$1);var u={tr:"tbody",tbody:"table",thead:"table",tfoot:"table",td:"tr",th:"tr",li:"ul",option:"select","*":"div"};t in u||(t="*");var l=document.createElement(u[t]);l.innerHTML=""+e,o=d.each(r.call(l.childNodes),(function(){l.removeChild(this)}))}if(d.isPlainObject(n)){var s=d(o),f=["val","css","html","text","data","width","height","offset"];d.each(n,(function(e,t){f.indexOf(e)>-1?s[e](t):s.attr(e,t)}))}return o}function d(e,t){var r,o=[];if(e)if("string"==typeof e)if("#"===(e=(e||"").trim())[0]){var i=document.getElementById(e.substr(1));i&&o.push(i)}else"<"===e[0]&&c.test(e)?(o=f(e,RegExp.$1,t),e=null):o=d.qsa(e,t);else if(e.nodeType||e===window||e===document)o=[e],e=null;else{if(l.isD(e))return e;if(d.isFunction(e))return document.ready(e);d.isArray(e)?(r=e,o=n.call(r,(function(e){return null!=e}))):c.test(e)&&(o=f(e,RegExp.$1,t),e=null)}return new l(o,e)}function m(e,t,n){if(null!=t)for(var r=Object.keys(Object(t)),o=0,i=r.length;o<i;o+=1){var a=r[o],c=Object.getOwnPropertyDescriptor(t,a);void 0!==c&&c.enumerable&&(n&&(d.isPlainObject(t[a])||d.isArray(t[a]))?(d.isPlainObject(t[a])&&!d.isPlainObject(e[a])&&(e[a]={}),d.isArray(t[a])&&!d.isArray(e[a])&&(e[a]=[]),m(e[a],t[a],n)):e[a]=t[a])}}d.uuid=0,d.support={},d.expr={},d.noop=function(){},d.type=function(e){return null==e?String(e):t[o.call(e)]||"object"},d.isWindow=function(e){return null!=e&&e==e.window},d.isObject=function(e){return"object"===d.type(e)},d.isFunction=function(e){return"function"===d.type(e)},d.isDocument=function(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE},d.isPlainObject=function(e){return d.isObject(e)&&!d.isWindow(e)&&Object.getPrototypeOf(e)==Object.prototype},d.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},d.isArray=Array.isArray||function(e){return e instanceof Array},d.inArray=function(t,n,r){return e.indexOf.call(n,t,r)},d.isNumeric=function(e){var t=Number(e),n=typeof e;return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},d.trim=function(e){return null==e?"":String.prototype.trim.call(e)},d.map=function(e,t){var n,r,o,i,a=[];if(s(e))for(r=0;r<e.length;r++)null!=(n=t(e[r],r))&&a.push(n);else for(o in e)null!=(n=t(e[o],o))&&a.push(n);return(i=a).length>0?d.fn.concat.apply([],i):i},d.each=function(e,t){var n,r;if(s(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},d.grep=function(e,t){return n.call(e,t)},d.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,n){t["[object "+n+"]"]=n.toLowerCase()})),d.id=function(e){return document.getElementById(e)},d.qu=function(e,t){return t?l.isD(t)?t[0].querySelector(e):t.querySelector(e):document.querySelector(e)},d.qsa=d.qus=function(e,t){var n=null;return(n=t?l.isD(t)?t[0].querySelectorAll(e):t.querySelectorAll(e):document.querySelectorAll(e))&&n.length>0?r.call(n):[]},d.assign=function(e){if(!e)return{};for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return"boolean"==typeof e&&(t=e,e=r.shift()),r.forEach((function(n){m(e,n,t)})),e},d.extend=d.assign,d.merge=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];return t.splice(0,1),t.forEach((function(e){m(r,e,!1)})),r},d.fastLink=function(){try{d.qus("a").forEach((function(e){var t;e.href&&(e.hasAttribute("fastlink")||e.hasAttribute("fastLink"))&&(e.ontouchstart=function(e){t=e.changedTouches[0].clientY},e.ontouchend=function(n){if(!(Math.abs(n.changedTouches[0].clientY-t)>10)){if(n.preventDefault(),d(e).hasClass("back"))return history.back();location.href=e.href}})}))}catch(e){alert("fastLink exp: "+e.message)}},d.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},d.cancelAnimationFrame=function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.clearTimeout(e)},d.deleteProps=function(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))},d.nextTick=function(e,t){return void 0===t&&(t=0),setTimeout(e,t)},d.nextFrame=function(e){return d.requestAnimationFrame((function(){d.requestAnimationFrame(e)}))},d.now=function(){return Date.now()},d.uniqueNumber=function(){return u+=1},d.uid=function(e,t){void 0===e&&(e="xxxxxxxxxx"),void 0===t&&(t="0123456789abcdef");var n=t.length;return e.replace(/x/g,(function(){return t[Math.floor(Math.random()*n)]}))},d.camelCase=function(e){return e.toLowerCase().replace(/-+(.)/g,(function(e,t){return t?t.toUpperCase():""}))},d.uniq=function(e){return n.call(e,(function(t,n){return e.indexOf(t)===n}))},d.promisify=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise((function(t,r){e.apply(void 0,n.concat([function(e,n){e?r(e):t(n)}]))}))}},d.urlParam=function(e){var t,n,r,o,i={},a=e||window.location.href;if("string"==typeof a&&a.length)for(o=(n=(a=a.indexOf("?")>-1?a.replace(/\S*\?/,""):"").split("&").filter((function(e){return""!==e}))).length,t=0;t<o;t+=1)r=n[t].replace(/#\S+/g,"").split("="),i[decodeURIComponent(r[0])]=void 0===r[1]?void 0:decodeURIComponent(r.slice(1).join("="))||"";return i},d.ready=document.ready,d.fn=l.prototype,d.Class=l,d.Dom=l,d.window=window,d.document=document;var h={};var p=Object.freeze({on:function(e,t){return h[e]=h[e]||[],h[e].includes(t)||h[e].push(t),this},off:function(e,t){return t?h[e].forEach((function(n,r){(n===t||n.proxy&&n.proxy===t)&&h[e].splice(r,1)})):delete h[e],this},once:function(e,t){var n=this;function r(){$.off(e,t),r.proxy&&delete r.proxy;for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];t.apply(n,i)}return r.proxy=t,$.on(e,r),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=h[e]&&h[e].slice();return i&&i.forEach((function(e){e.apply(t,r)})),this}});function v(e){var t="";if(!e||!localStorage)return"";var n=localStorage.getItem(e);try{if(n=JSON.parse(n)){var r=Math.trunc(Date.now()/1e3);if(n.time&&n.exp){var o=r-n.time;o>60*n.exp?(localStorage.removeItem(e),console.info("store.get("+e+") dur:"+o+" > exp:"+60*n.exp)):n.val&&(t=n.val)}else n.val&&(console.error("store.get("+e+") no time and exp"),t=n.val)}}catch(e){console.log("store.get exp:"+e.message)}return t}var g=Object.freeze({set:function(e,t,n){var r={exp:n||43200,time:Math.trunc(Date.now()/1e3),val:t};e&&localStorage&&localStorage.setItem(e,JSON.stringify(r))},get:v,remove:function(e){localStorage&&localStorage.removeItem(e)},clear:function(){localStorage&&localStorage.clear()},check:function(){if(localStorage)for(var e=0;e<localStorage.length;e++)v(localStorage.key(e))}});function y(){var e=null;return window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e}var w=Object.freeze({get:function(e,t){return new Promise((function(n,r){var o=y();o.onreadystatechange=function(){4===o.readyState&&(200===o.status?n(o.responseText):r(new Error(o.statusText)))},t?o.open("GET",e+"?"+t,!0):o.open("GET",e,!0),o.send(null)}))},post:function(e,t){return new Promise((function(n,r){var o=y();o.onreadystatechange=function(){4===o.readyState&&(200===o.status?n(o.responseText):r(new Error(o.statusText),o.responseText))},o.open("POST",e,!0);var i=t;"object"==typeof t&&(i=Object.keys(t).map((function(e){return e+"="+t[e]})).sort().join("&")),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(i)}))}}),b={},x={};
/*!*******************!*\
! ** * 动态模块管理 ** * !
\***********************/function O(e){Object.keys(e).forEach((function(t){"R"!==t&&"M"!==t&&(e[t]=new Function("module","exports","_m_","'use strict';"+e[t]),x[t]=e[t])}))}var A=Object.freeze({cache:b,module:x,load:function e(t){if(b[t])return b[t].exports;var n={i:t,l:!1,exports:{}};return b[t]=n,x[t]?x[t].call(n.exports,n,n.exports,e):alert("load module ["+t+"] not exist!"),n.l=!0,n.exports},add:O,get:function(e,t){var n=t.map((function(t){var n=t.indexOf("?v="),r=t.substr(n+3),o="app "+t.substr(0,n);console.log("get module key:"+o+" ver:"+r);var i=$.store.get(o)||"";if(i){console.log("get module local key:"+o+" ok!");var a=JSON.parse(i);(!a.R||!a.R.ver||a.R&&a.R.ver&&a.R.ver!==r)&&($.store.remove(o),i="",console.log("get module local key:"+o+" ver:"+a.R.ver+" != "+r))}return i?Promise.resolve(i):$.get(e+t).then((function(n){if(n)return console.log("get module clound "+(e+t)+" ok!"),$.store.set(o,n),n}))}));return Promise.all(n).then((function(e){e.forEach((function(e){var t=e&&JSON.parse(e);t&&O(t)}))}))}});void 0===window.$&&(window.$=d),Object.keys(p).forEach((function(e){d[e]=p[e]})),Object.keys(w).forEach((function(e){d[e]=w[e]})),d.store={},Object.keys(g).forEach((function(e){d.store[e]=g[e]})),d.M={},Object.keys(A).forEach((function(e){d.M[e]=A[e]}));export default d;